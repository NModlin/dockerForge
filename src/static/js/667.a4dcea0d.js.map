{"version":3,"file":"js/667.a4dcea0d.js","mappings":"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","sources":["webpack://dockerforge-web-ui/./src/views/user/PasswordChange.vue","webpack://dockerforge-web-ui/./src/views/user/PasswordChange.vue?beb8"],"sourcesContent":["<template>\n  <v-container class=\"fill-height\" fluid>\n    <v-row align=\"center\" justify=\"center\">\n      <v-col cols=\"12\" sm=\"8\" md=\"6\" lg=\"4\">\n        <v-card class=\"elevation-12\">\n          <v-toolbar color=\"primary\" dark flat>\n            <v-toolbar-title>Change Password</v-toolbar-title>\n            <v-spacer></v-spacer>\n          </v-toolbar>\n          <v-card-text>\n            <v-alert\n              v-if=\"error\"\n              type=\"error\"\n              dismissible\n              @click=\"error = null\"\n            >\n              {{ error }}\n            </v-alert>\n            <v-alert\n              v-if=\"success\"\n              type=\"success\"\n              dismissible\n              @click=\"success = null\"\n            >\n              {{ success }}\n            </v-alert>\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation @submit.prevent=\"changePassword\">\n              <v-text-field\n                v-model=\"currentPassword\"\n                :rules=\"currentPasswordRules\"\n                label=\"Current Password\"\n                prepend-icon=\"mdi-lock-outline\"\n                type=\"password\"\n                required\n                :disabled=\"loading\"\n              ></v-text-field>\n\n              <v-text-field\n                v-model=\"newPassword\"\n                :rules=\"newPasswordRules\"\n                label=\"New Password\"\n                prepend-icon=\"mdi-lock\"\n                type=\"password\"\n                required\n                :disabled=\"loading\"\n              ></v-text-field>\n\n              <v-text-field\n                v-model=\"confirmPassword\"\n                :rules=\"confirmPasswordRules\"\n                label=\"Confirm New Password\"\n                prepend-icon=\"mdi-lock-check\"\n                type=\"password\"\n                required\n                :disabled=\"loading\"\n                @keyup.enter=\"changePassword\"\n              ></v-text-field>\n            </v-form>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"secondary\"\n              :disabled=\"loading\"\n              @click=\"$router.push('/')\"\n              v-if=\"!forced\"\n            >\n              Cancel\n            </v-btn>\n            <v-btn\n              color=\"primary\"\n              :disabled=\"!valid || loading\"\n              :loading=\"loading\"\n              @click=\"changePassword\"\n            >\n              Change Password\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'PasswordChange',\n  data() {\n    return {\n      valid: true,\n      currentPassword: '',\n      currentPasswordRules: [\n        v => !!v || 'Current password is required',\n      ],\n      newPassword: '',\n      newPasswordRules: [\n        v => !!v || 'New password is required',\n        v => (v && v.length >= 8) || 'Password must be at least 8 characters',\n        v => (v && v !== this.currentPassword) || 'New password must be different from current password',\n      ],\n      confirmPassword: '',\n      confirmPasswordRules: [\n        v => !!v || 'Please confirm your password',\n        v => v === this.newPassword || 'Passwords do not match',\n      ],\n      error: null,\n      success: null,\n      loading: false,\n      forced: false,\n    };\n  },\n  created() {\n    // Check if this is a forced password change\n    this.forced = this.$route.query.forced === 'true';\n  },\n  methods: {\n    async changePassword() {\n      if (this.$refs.form.validate()) {\n        try {\n          this.loading = true;\n          this.error = null;\n          this.success = null;\n          \n          // Call the API password change endpoint\n          await axios.post('/api/auth/change-password', {\n            current_password: this.currentPassword,\n            new_password: this.newPassword,\n          }, {\n            headers: {\n              'Authorization': `Bearer ${this.$store.state.auth.token}`\n            }\n          });\n          \n          // Update the user info to indicate password has been changed\n          this.$store.commit('auth/SET_PASSWORD_CHANGED');\n          \n          this.success = 'Password successfully changed!';\n          \n          // After a brief delay, redirect to the dashboard\n          setTimeout(() => {\n            this.$router.push('/');\n          }, 2000);\n        } catch (error) {\n          console.error('Password change error:', error);\n          this.error = error.response?.data?.detail || 'Failed to change password. Please try again.';\n        } finally {\n          this.loading = false;\n        }\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./PasswordChange.vue?vue&type=template&id=462e4145\"\nimport script from \"./PasswordChange.vue?vue&type=script&lang=js\"\nexport * from \"./PasswordChange.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","fluid","align","justify","cols","sm","md","lg","color","dark","flat","type","dismissible","error","success","ref","valid","changePassword","currentPassword","rules","currentPasswordRules","label","required","disabled","loading","newPassword","newPasswordRules","confirmPassword","confirmPasswordRules","forced","$router","push","name","data","v","length","this","created","$route","query","methods","$refs","form","validate","axios","post","current_password","new_password","headers","$store","state","auth","token","commit","setTimeout","console","response","detail","__exports__","render"],"sourceRoot":""}