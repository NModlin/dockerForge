{"version":3,"file":"js/869.e847f762.js","mappings":"ojBACE,QAqDc,GArDDA,MAAM,cAAcC,MAAA,I,CADnC,kBAEI,IAmDQ,EAnDR,QAmDQ,GAnDDC,MAAM,SAASC,QAAQ,U,CAFlC,kBAGM,IAiDQ,EAjDR,QAiDQ,GAjDDC,KAAK,KAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,K,CAHxC,kBAIQ,IA+CS,EA/CT,QA+CS,GA/CDP,MAAM,gBAAc,CAJpC,kBAKU,IAGY,EAHZ,QAGY,GAHDQ,MAAM,UAAUC,KAAA,GAAKC,KAAA,I,CAL1C,kBAMY,IAAoD,EAApD,QAAoD,QANhE,kBAM6B,IAAiB,cAN9C,QAM6B,yBAN7B,OAOY,QAAqB,MAPjC,OASU,QA8Bc,QAvCxB,kBAUc,IAQb,CAPmB,EAAK,Q,WADb,QAOU,GAjBtB,MAYcC,KAAK,QACLC,YAAA,GACC,QAAK,eAAE,EAAAC,MAAQ,O,CAd9B,kBAgBc,IAAW,EAhBzB,iBAgBiB,EAAAA,OAAK,MAhBtB,wBAkBY,QAoBS,GApBDC,IAAI,OAlBxB,WAkBwC,EAAAC,MAlBxC,qCAkBwC,EAAK,SAAE,qBAAiB,UAlBhE,QAkBgF,EAAAC,MAAK,c,CAlBrF,kBAmBc,IAOgB,EAPhB,QAOgB,GA1B9B,WAoByB,EAAAC,SApBzB,qCAoByB,EAAQ,YAChBC,MAAO,EAAAC,cACRC,MAAM,WACN,eAAa,cACbC,SAAA,GACCC,SAAU,EAAAC,S,2CAGb,QASgB,GArC9B,WA6ByB,EAAAC,SA7BzB,qCA6ByB,EAAQ,YAChBN,MAAO,EAAAO,cACRL,MAAM,WACN,eAAa,WACbT,KAAK,WACLU,SAAA,GACCC,SAAU,EAAAC,QACV,SApCjB,QAoC8B,EAAAP,MAAK,Y,uDApCnC,K,gCAAA,OAwCU,QAUiB,QAlD3B,kBAyCY,IAAqB,EAArB,QAAqB,IACrB,QAOQ,GANNR,MAAM,UACLc,UAAW,EAAAP,OAAS,EAAAQ,QACpBA,QAAS,EAAAA,QACT,QAAO,EAAAP,O,CA9CtB,kBA+Ca,IAED,cAjDZ,QA+Ca,eA/Cb,K,uCAAA,yC,eA4DA,GACEU,KAAM,QACN,IAAAC,GACE,MAAO,CACLZ,OAAO,EACPE,SAAU,GACVE,cAAe,CACbS,KAAOA,GAAK,wBAEdJ,SAAU,GACVC,cAAe,CACbG,KAAOA,GAAK,wBAEdf,MAAO,KACPU,SAAS,EAEb,EACAM,QAAS,CACP,WAAMb,GACJ,GAAIc,KAAKC,MAAMC,KAAKC,WAClB,IACEH,KAAKP,SAAU,EACfO,KAAKjB,MAAQ,KAGb,MAAMqB,EAAW,IAAIC,SACrBD,EAASE,OAAO,WAAYN,KAAKb,UACjCiB,EAASE,OAAO,WAAYN,KAAKN,UAGjC,MAAMa,QAAiBC,EAAA,EAAMC,KAAK,kBAAmBL,GAGrDJ,KAAKU,OAAOC,SAAS,aAAc,CACjCC,MAAOL,EAASV,KAAKgB,aACrBC,KAAM,CACJ3B,SAAUa,KAAKb,SACf4B,yBAA0BR,EAASV,KAAKkB,4BAKxCR,EAASV,KAAKkB,yBAEhBf,KAAKgB,QAAQC,KAAK,CAAEC,KAAM,mBAAoBC,MAAO,CAAEC,OAAQ,UAG/DpB,KAAKgB,QAAQC,KAAK,IAEtB,CAAE,MAAOlC,GACPsC,QAAQtC,MAAM,eAAgBA,GAC9BiB,KAAKjB,MAAQA,EAAMwB,UAAUV,MAAMyB,QAAU,8CAC/C,CAAE,QACAtB,KAAKP,SAAU,CACjB,CAEJ,I,UC/GJ,MAAM8B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://dockerforge-web-ui/./src/views/Login.vue","webpack://dockerforge-web-ui/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <v-container class=\"fill-height\" fluid>\n    <v-row align=\"center\" justify=\"center\">\n      <v-col cols=\"12\" sm=\"8\" md=\"6\" lg=\"4\">\n        <v-card class=\"elevation-12\">\n          <v-toolbar color=\"primary\" dark flat>\n            <v-toolbar-title>DockerForge Login</v-toolbar-title>\n            <v-spacer></v-spacer>\n          </v-toolbar>\n          <v-card-text>\n            <v-alert\n              v-if=\"error\"\n              type=\"error\"\n              dismissible\n              @click=\"error = null\"\n            >\n              {{ error }}\n            </v-alert>\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation @submit.prevent=\"login\">\n              <v-text-field\n                v-model=\"username\"\n                :rules=\"usernameRules\"\n                label=\"Username\"\n                prepend-icon=\"mdi-account\"\n                required\n                :disabled=\"loading\"\n              ></v-text-field>\n\n              <v-text-field\n                v-model=\"password\"\n                :rules=\"passwordRules\"\n                label=\"Password\"\n                prepend-icon=\"mdi-lock\"\n                type=\"password\"\n                required\n                :disabled=\"loading\"\n                @keyup.enter=\"login\"\n              ></v-text-field>\n            </v-form>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn\n              color=\"primary\"\n              :disabled=\"!valid || loading\"\n              :loading=\"loading\"\n              @click=\"login\"\n            >\n              Login\n            </v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      valid: true,\n      username: '',\n      usernameRules: [\n        v => !!v || 'Username is required',\n      ],\n      password: '',\n      passwordRules: [\n        v => !!v || 'Password is required',\n      ],\n      error: null,\n      loading: false,\n    };\n  },\n  methods: {\n    async login() {\n      if (this.$refs.form.validate()) {\n        try {\n          this.loading = true;\n          this.error = null;\n          \n          // Create form data for OAuth2 password flow\n          const formData = new FormData();\n          formData.append('username', this.username);\n          formData.append('password', this.password);\n          \n          // Call the API login endpoint\n          const response = await axios.post('/api/auth/token', formData);\n          \n          // Store the token and user info\n          this.$store.dispatch('auth/login', {\n            token: response.data.access_token,\n            user: {\n              username: this.username,\n              password_change_required: response.data.password_change_required\n            },\n          });\n          \n          // Check if password change is required\n          if (response.data.password_change_required) {\n            // Redirect to password change page with the forced parameter\n            this.$router.push({ path: '/change-password', query: { forced: 'true' } });\n          } else {\n            // Redirect to dashboard\n            this.$router.push('/');\n          }\n        } catch (error) {\n          console.error('Login error:', error);\n          this.error = error.response?.data?.detail || 'Login failed. Please check your credentials.';\n        } finally {\n          this.loading = false;\n        }\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=598375a6\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","fluid","align","justify","cols","sm","md","lg","color","dark","flat","type","dismissible","error","ref","valid","login","username","rules","usernameRules","label","required","disabled","loading","password","passwordRules","name","data","v","methods","this","$refs","form","validate","formData","FormData","append","response","axios","post","$store","dispatch","token","access_token","user","password_change_required","$router","push","path","query","forced","console","detail","__exports__","render"],"sourceRoot":""}