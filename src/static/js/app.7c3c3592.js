(function(){"use strict";var e={4663:function(e,t,s){var a=s(3751),n=s(2977),o=s(5220),i=s(4825),r=s(2938),c=s(3379),l=(s(5524),s(4335)),d=s(641),u=s(33);function m(e,t,s,a,n,o){const i=(0,d.g2)("v-app-bar-nav-icon"),r=(0,d.g2)("v-toolbar-title"),c=(0,d.g2)("v-spacer"),l=(0,d.g2)("v-icon"),m=(0,d.g2)("v-btn"),h=(0,d.g2)("v-list-item-title"),g=(0,d.g2)("v-list-item"),p=(0,d.g2)("v-divider"),f=(0,d.g2)("v-list-item-icon"),b=(0,d.g2)("v-list"),k=(0,d.g2)("v-menu"),_=(0,d.g2)("v-app-bar"),S=(0,d.g2)("v-list-item-content"),E=(0,d.g2)("v-navigation-drawer"),v=(0,d.g2)("router-view"),T=(0,d.g2)("v-container"),y=(0,d.g2)("v-main"),F=(0,d.g2)("v-footer"),C=(0,d.g2)("chat-sidebar"),A=(0,d.g2)("v-app"),w=(0,d.gN)("tooltip");return(0,d.uX)(),(0,d.Wv)(A,null,{default:(0,d.k6)((()=>[(0,d.bF)(_,{app:"",color:"primary",dark:""},{default:(0,d.k6)((()=>[o.isAuthenticated?((0,d.uX)(),(0,d.Wv)(i,{key:0,onClick:t[0]||(t[0]=e=>n.drawer=!n.drawer)})):(0,d.Q3)("",!0),(0,d.bF)(r,null,{default:(0,d.k6)((()=>t[3]||(t[3]=[(0,d.eW)("DockerForge")]))),_:1}),(0,d.bF)(c),o.isAuthenticated?((0,d.uX)(),(0,d.CE)(d.FK,{key:1},[(0,d.bF)(m,{icon:""},{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[4]||(t[4]=[(0,d.eW)("mdi-bell")]))),_:1})])),_:1}),(0,d.bo)(((0,d.uX)(),(0,d.Wv)(m,{icon:"",onClick:e.toggleChat},{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[5]||(t[5]=[(0,d.eW)("mdi-robot")]))),_:1})])),_:1},8,["onClick"])),[[w,"AI Assistant"]]),(0,d.bF)(k,{"offset-y":""},{activator:(0,d.k6)((({on:e,attrs:s})=>[(0,d.bF)(m,(0,d.v6)({icon:""},s,(0,d.Tb)(e)),{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[6]||(t[6]=[(0,d.eW)("mdi-account")]))),_:1})])),_:2},1040)])),default:(0,d.k6)((()=>[(0,d.bF)(b,null,{default:(0,d.k6)((()=>[(0,d.bF)(g,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(o.currentUser?.username||"User"),1)])),_:1})])),_:1}),(0,d.bF)(p),(0,d.bF)(g,{onClick:o.logout},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[7]||(t[7]=[(0,d.eW)("mdi-logout")]))),_:1})])),_:1}),(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[8]||(t[8]=[(0,d.eW)("Logout")]))),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})],64)):(0,d.Q3)("",!0)])),_:1}),o.isAuthenticated?((0,d.uX)(),(0,d.Wv)(E,{key:0,modelValue:n.drawer,"onUpdate:modelValue":t[1]||(t[1]=e=>n.drawer=e),app:""},{default:(0,d.k6)((()=>[(0,d.bF)(b,null,{default:(0,d.k6)((()=>[(0,d.bF)(g,{to:"/",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[9]||(t[9]=[(0,d.eW)("mdi-view-dashboard")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[10]||(t[10]=[(0,d.eW)("Dashboard")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/containers",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[11]||(t[11]=[(0,d.eW)("mdi-docker")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[12]||(t[12]=[(0,d.eW)("Containers")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/images",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[13]||(t[13]=[(0,d.eW)("mdi-package-variant-closed")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[14]||(t[14]=[(0,d.eW)("Images")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/volumes",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[15]||(t[15]=[(0,d.eW)("mdi-database")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[16]||(t[16]=[(0,d.eW)("Volumes")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/networks",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[17]||(t[17]=[(0,d.eW)("mdi-lan")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[18]||(t[18]=[(0,d.eW)("Networks")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/compose",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[19]||(t[19]=[(0,d.eW)("mdi-file-document-multiple")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[20]||(t[20]=[(0,d.eW)("Compose")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/security",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[21]||(t[21]=[(0,d.eW)("mdi-shield")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[22]||(t[22]=[(0,d.eW)("Security")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/backup",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[23]||(t[23]=[(0,d.eW)("mdi-backup-restore")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[24]||(t[24]=[(0,d.eW)("Backup")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/monitoring",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[25]||(t[25]=[(0,d.eW)("mdi-chart-line")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[26]||(t[26]=[(0,d.eW)("Monitoring")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(g,{to:"/settings",link:""},{default:(0,d.k6)((()=>[(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>t[27]||(t[27]=[(0,d.eW)("mdi-cog")]))),_:1})])),_:1}),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>t[28]||(t[28]=[(0,d.eW)("Settings")]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])):(0,d.Q3)("",!0),(0,d.bF)(y,null,{default:(0,d.k6)((()=>[(0,d.bF)(T,{fluid:""},{default:(0,d.k6)((()=>[(0,d.bF)(v)])),_:1})])),_:1}),(0,d.bF)(F,{app:""},{default:(0,d.k6)((()=>[(0,d.Lk)("span",null,"Â© "+(0,u.v_)((new Date).getFullYear())+" DockerForge",1)])),_:1}),(0,d.bF)(C,{modelValue:o.isChatSidebarOpen,"onUpdate:modelValue":t[2]||(t[2]=e=>o.isChatSidebarOpen=e)},null,8,["modelValue"])])),_:1})}const h={class:"text-truncate",style:{"max-width":"180px"}},g={class:"chat-messages",ref:"chatMessages"},p={key:0,class:"chat-empty-state"},f={key:0,class:"suggestions-container px-2 py-2"},b={class:"d-flex flex-wrap"},k={class:"chat-input-container"};function _(e,t,s,n,o,i){const r=(0,d.g2)("v-icon"),c=(0,d.g2)("v-btn"),l=(0,d.g2)("v-list-item-icon"),m=(0,d.g2)("v-list-item-title"),_=(0,d.g2)("v-list-item"),S=(0,d.g2)("v-divider"),E=(0,d.g2)("v-list-item-action"),v=(0,d.g2)("v-list"),T=(0,d.g2)("v-menu"),y=(0,d.g2)("v-spacer"),F=(0,d.g2)("v-app-bar"),C=(0,d.g2)("v-tab"),A=(0,d.g2)("v-tabs"),w=(0,d.g2)("chat-message"),I=(0,d.g2)("v-container"),R=(0,d.g2)("v-chip"),O=(0,d.g2)("chat-input"),D=(0,d.g2)("v-tab-item"),N=(0,d.g2)("chat-commands"),x=(0,d.g2)("chat-preferences"),L=(0,d.g2)("v-tabs-items"),W=(0,d.g2)("v-card-title"),M=(0,d.g2)("v-card-text"),P=(0,d.g2)("v-card-actions"),U=(0,d.g2)("v-card"),V=(0,d.g2)("v-dialog"),$=(0,d.g2)("v-navigation-drawer");return(0,d.uX)(),(0,d.Wv)($,{modelValue:i.localValue,"onUpdate:modelValue":t[6]||(t[6]=e=>i.localValue=e),app:"",right:"",width:"350",class:"chat-sidebar",temporary:""},{default:(0,d.k6)((()=>[(0,d.bF)(F,{flat:"",dark:"",color:"primary",class:"chat-sidebar-header"},{default:(0,d.k6)((()=>[(0,d.bF)(T,{"offset-y":""},{activator:(0,d.k6)((({on:e,attrs:s})=>[(0,d.bF)(c,(0,d.v6)({text:""},s,(0,d.Tb)(e),{class:"text-none px-1"}),{default:(0,d.k6)((()=>[(0,d.Lk)("span",h,(0,u.v_)(i.sessionTitle),1),(0,d.bF)(r,{right:""},{default:(0,d.k6)((()=>t[7]||(t[7]=[(0,d.eW)("mdi-chevron-down")]))),_:1})])),_:2},1040)])),default:(0,d.k6)((()=>[(0,d.bF)(v,null,{default:(0,d.k6)((()=>[(0,d.bF)(_,{onClick:i.newSession},{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>t[8]||(t[8]=[(0,d.eW)("mdi-plus")]))),_:1})])),_:1}),(0,d.bF)(m,null,{default:(0,d.k6)((()=>t[9]||(t[9]=[(0,d.eW)("New Chat")]))),_:1})])),_:1},8,["onClick"]),e.sessions.length>0?((0,d.uX)(),(0,d.Wv)(S,{key:0})):(0,d.Q3)("",!0),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.sessions,(s=>((0,d.uX)(),(0,d.Wv)(_,{key:s.id,onClick:t=>e.switchSession(s.id)},{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>[e.currentSession&&s.id===e.currentSession.id?((0,d.uX)(),(0,d.Wv)(r,{key:0},{default:(0,d.k6)((()=>t[10]||(t[10]=[(0,d.eW)(" mdi-check ")]))),_:1})):(0,d.Q3)("",!0)])),_:2},1024),(0,d.bF)(m,null,{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(s.title),1)])),_:2},1024),e.sessions.length>1?((0,d.uX)(),(0,d.Wv)(E,{key:0},{default:(0,d.k6)((()=>[(0,d.bF)(c,{icon:"",small:"",onClick:(0,a.D$)((e=>i.confirmDeleteSession(s)),["stop"])},{default:(0,d.k6)((()=>[(0,d.bF)(r,{small:""},{default:(0,d.k6)((()=>t[11]||(t[11]=[(0,d.eW)("mdi-delete-outline")]))),_:1})])),_:2},1032,["onClick"])])),_:2},1024)):(0,d.Q3)("",!0)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,d.bF)(y),(0,d.bF)(c,{icon:"",onClick:e.clearChat},{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>t[12]||(t[12]=[(0,d.eW)("mdi-broom")]))),_:1})])),_:1},8,["onClick"]),(0,d.bF)(c,{icon:"",onClick:t[0]||(t[0]=t=>e.$emit("input",!1))},{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>t[13]||(t[13]=[(0,d.eW)("mdi-close")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(A,{modelValue:o.activeTab,"onUpdate:modelValue":t[1]||(t[1]=e=>o.activeTab=e),grow:"","background-color":"primary",dark:""},{default:(0,d.k6)((()=>[(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(r,{small:"",class:"mr-1"},{default:(0,d.k6)((()=>t[14]||(t[14]=[(0,d.eW)("mdi-chat")]))),_:1}),t[15]||(t[15]=(0,d.eW)(" Chat "))])),_:1}),(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(r,{small:"",class:"mr-1"},{default:(0,d.k6)((()=>t[16]||(t[16]=[(0,d.eW)("mdi-lightning-bolt")]))),_:1}),t[17]||(t[17]=(0,d.eW)(" Commands "))])),_:1}),(0,d.bF)(C,null,{default:(0,d.k6)((()=>[(0,d.bF)(r,{small:"",class:"mr-1"},{default:(0,d.k6)((()=>t[18]||(t[18]=[(0,d.eW)("mdi-cog")]))),_:1}),t[19]||(t[19]=(0,d.eW)(" Preferences "))])),_:1})])),_:1},8,["modelValue"]),(0,d.bF)(L,{modelValue:o.activeTab,"onUpdate:modelValue":t[2]||(t[2]=e=>o.activeTab=e),class:"flex-grow-1 d-flex flex-column"},{default:(0,d.k6)((()=>[(0,d.bF)(D,{class:"flex-grow-1 d-flex flex-column"},{default:(0,d.k6)((()=>[(0,d.bF)(I,{fluid:"",class:"chat-messages-container pa-0 flex-grow-1"},{default:(0,d.k6)((()=>[(0,d.Lk)("div",g,[0===e.messages.length?((0,d.uX)(),(0,d.CE)("div",p,[(0,d.bF)(r,{size:"64",color:"grey lighten-1"},{default:(0,d.k6)((()=>t[20]||(t[20]=[(0,d.eW)("mdi-chat-outline")]))),_:1}),t[21]||(t[21]=(0,d.Lk)("p",{class:"text-center grey--text text--darken-1 mt-4"}," Ask me anything about Docker or your containers ",-1))])):(0,d.Q3)("",!0),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.messages,((t,s)=>((0,d.uX)(),(0,d.Wv)(w,{key:s,message:t,"existing-feedback":e.getFeedbackForMessage(t.id),class:"px-4",onFeedbackSubmitted:i.handleFeedbackSubmitted},null,8,["message","existing-feedback","onFeedbackSubmitted"])))),128))],512)])),_:1}),e.suggestions.length>0?((0,d.uX)(),(0,d.CE)("div",f,[(0,d.Lk)("div",b,[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.suggestions,((e,t)=>((0,d.uX)(),(0,d.Wv)(R,{key:t,class:"ma-1",outlined:"",small:"",onClick:t=>i.handleSuggestionClick(e)},{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(e),1)])),_:2},1032,["onClick"])))),128))])])):(0,d.Q3)("",!0),(0,d.Lk)("div",k,[(0,d.bF)(O,{onSend:i.handleSendMessage,loading:e.isLoading,"command-shortcuts":e.commandShortcuts},null,8,["onSend","loading","command-shortcuts"])])])),_:1}),(0,d.bF)(D,null,{default:(0,d.k6)((()=>[(0,d.bF)(I,{class:"pa-4 overflow-y-auto",style:{height:"100%"}},{default:(0,d.k6)((()=>[(0,d.bF)(N,{onUseShortcut:i.handleShortcutUse,onNotification:i.showNotification},null,8,["onUseShortcut","onNotification"])])),_:1})])),_:1}),(0,d.bF)(D,null,{default:(0,d.k6)((()=>[(0,d.bF)(I,{class:"pa-4 overflow-y-auto",style:{height:"100%"}},{default:(0,d.k6)((()=>[(0,d.bF)(x,{onNotification:i.showNotification},null,8,["onNotification"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,d.bF)(V,{modelValue:o.deleteDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>o.deleteDialog=e),"max-width":"300"},{default:(0,d.k6)((()=>[(0,d.bF)(U,null,{default:(0,d.k6)((()=>[(0,d.bF)(W,{class:"headline"},{default:(0,d.k6)((()=>t[22]||(t[22]=[(0,d.eW)("Delete Chat Session")]))),_:1}),(0,d.bF)(M,null,{default:(0,d.k6)((()=>t[23]||(t[23]=[(0,d.eW)(" Are you sure you want to delete this chat session? This action cannot be undone. ")]))),_:1}),(0,d.bF)(P,null,{default:(0,d.k6)((()=>[(0,d.bF)(y),(0,d.bF)(c,{text:"",onClick:t[3]||(t[3]=e=>o.deleteDialog=!1)},{default:(0,d.k6)((()=>t[24]||(t[24]=[(0,d.eW)("Cancel")]))),_:1}),(0,d.bF)(c,{color:"error",text:"",onClick:t[4]||(t[4]=t=>e.deleteSession(o.sessionToDelete.id))},{default:(0,d.k6)((()=>t[25]||(t[25]=[(0,d.eW)(" Delete ")]))),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])}const S={key:0,class:"chat-message__avatar"},E={key:1,class:"chat-message__avatar"},v={class:"chat-message__content"},T={key:0,class:"chat-message__name"},y={key:1,class:"chat-message__name"},F={class:"chat-message__text"},C={class:"chat-message__time"},A={key:2,class:"chat-message__feedback"},w={class:"d-flex justify-center"},I={key:0,class:"mt-2"},R={class:"d-flex justify-end mt-1"},O={key:3,class:"chat-message__feedback-submitted"},D={class:"text-caption text-center"};function N(e,t,s,a,n,o){const i=(0,d.g2)("v-icon"),r=(0,d.g2)("v-avatar"),c=(0,d.g2)("v-divider"),l=(0,d.g2)("v-rating"),m=(0,d.g2)("v-textarea"),h=(0,d.g2)("v-progress-circular"),g=(0,d.g2)("v-btn");return(0,d.uX)(),(0,d.CE)("div",{class:(0,u.C4)(["chat-message",`chat-message--${s.message.type}`])},["ai"===s.message.type?((0,d.uX)(),(0,d.CE)("div",S,[(0,d.bF)(r,{color:"primary",size:"36"},{default:(0,d.k6)((()=>[(0,d.bF)(i,{dark:""},{default:(0,d.k6)((()=>t[2]||(t[2]=[(0,d.eW)("mdi-robot")]))),_:1})])),_:1})])):"user"===s.message.type?((0,d.uX)(),(0,d.CE)("div",E,[(0,d.bF)(r,{color:"grey lighten-1",size:"36"},{default:(0,d.k6)((()=>[(0,d.bF)(i,{dark:""},{default:(0,d.k6)((()=>t[3]||(t[3]=[(0,d.eW)("mdi-account")]))),_:1})])),_:1})])):(0,d.Q3)("",!0),(0,d.Lk)("div",v,["ai"===s.message.type?((0,d.uX)(),(0,d.CE)("div",T,"DockerForge AI")):"user"===s.message.type?((0,d.uX)(),(0,d.CE)("div",y,"You")):(0,d.Q3)("",!0),(0,d.Lk)("div",F,(0,u.v_)(s.message.text),1),(0,d.Lk)("div",C,(0,u.v_)(o.formattedTime),1),"ai"!==s.message.type||n.feedbackSubmitted?"ai"===s.message.type&&n.feedbackSubmitted?((0,d.uX)(),(0,d.CE)("div",O,[(0,d.bF)(c,{class:"my-2"}),(0,d.Lk)("div",D,[(0,d.bF)(i,{small:"",color:"success"},{default:(0,d.k6)((()=>t[6]||(t[6]=[(0,d.eW)("mdi-check-circle")]))),_:1}),t[7]||(t[7]=(0,d.eW)(" Thank you for your feedback! "))])])):(0,d.Q3)("",!0):((0,d.uX)(),(0,d.CE)("div",A,[(0,d.bF)(c,{class:"my-2"}),t[5]||(t[5]=(0,d.Lk)("div",{class:"text-caption text-center mb-1"},"Was this response helpful?",-1)),(0,d.Lk)("div",w,[(0,d.bF)(l,{modelValue:n.feedbackRating,"onUpdate:modelValue":t[0]||(t[0]=e=>n.feedbackRating=e),color:"amber",hover:"",dense:"","half-increments":"",size:"small",length:"5",onInput:o.onRatingChange},null,8,["modelValue","onInput"])]),n.feedbackRating&&n.feedbackRating<=3?((0,d.uX)(),(0,d.CE)("div",I,[(0,d.bF)(m,{modelValue:n.feedbackText,"onUpdate:modelValue":t[1]||(t[1]=e=>n.feedbackText=e),rows:"2",dense:"","hide-details":"",placeholder:"Please tell us how we can improve",class:"text-caption"},null,8,["modelValue"]),(0,d.Lk)("div",R,[(0,d.bF)(g,{"x-small":"",text:"",color:"primary",onClick:o.submitFeedback,disabled:n.submittingFeedback},{default:(0,d.k6)((()=>[t[4]||(t[4]=(0,d.eW)(" Submit Feedback ")),n.submittingFeedback?((0,d.uX)(),(0,d.Wv)(h,{key:0,indeterminate:"",size:"16",class:"ml-2"})):(0,d.Q3)("",!0)])),_:1},8,["onClick","disabled"])])])):(0,d.Q3)("",!0)]))])],2)}var x={name:"ChatMessage",props:{message:{type:Object,required:!0,validator:e=>e.type&&e.text&&e.timestamp},existingFeedback:{type:Object,default:null}},data(){return{feedbackRating:0,feedbackText:"",feedbackSubmitted:!!this.existingFeedback,submittingFeedback:!1}},computed:{formattedTime(){const e=new Date(this.message.timestamp);return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}},methods:{onRatingChange(e){e>=4&&this.submitFeedback()},async submitFeedback(){if(this.feedbackRating){this.submittingFeedback=!0;try{const e=await l.A.post("/api/chat/feedback",{message_id:this.message.id,rating:this.feedbackRating,feedback_text:this.feedbackText});this.feedbackSubmitted=!0,this.$emit("feedback-submitted",{messageId:this.message.id,rating:this.feedbackRating,feedbackText:this.feedbackText,feedbackId:e.data.id}),this.$store&&this.$store.dispatch&&this.$store.dispatch("chat/updateMessageFeedback",{messageId:this.message.id,feedback:{rating:this.feedbackRating,feedbackText:this.feedbackText,feedbackId:e.data.id}})}catch(e){console.error("Error submitting feedback:",e),this.$store&&this.$store.dispatch&&this.$store.dispatch("showNotification",{type:"error",message:"Failed to submit feedback. Please try again."})}finally{this.submittingFeedback=!1}}}},created(){this.existingFeedback&&(this.feedbackRating=this.existingFeedback.rating,this.feedbackText=this.existingFeedback.feedback_text,this.feedbackSubmitted=!0)}},L=s(6262);const W=(0,L.A)(x,[["render",N],["__scopeId","data-v-5ee74c4a"]]);var M=W;const P={class:"chat-input"};function U(e,t,s,n,o,i){const r=(0,d.g2)("v-icon"),c=(0,d.g2)("v-btn"),l=(0,d.g2)("v-tooltip"),m=(0,d.g2)("v-text-field"),h=(0,d.g2)("v-form"),g=(0,d.g2)("v-subheader"),p=(0,d.g2)("v-list-item-title"),f=(0,d.g2)("v-list-item-subtitle"),b=(0,d.g2)("v-list-item-content"),k=(0,d.g2)("v-list-item"),_=(0,d.g2)("v-list"),S=(0,d.g2)("v-card"),E=(0,d.g2)("v-menu");return(0,d.uX)(),(0,d.CE)("div",P,[(0,d.bF)(h,{onSubmit:(0,a.D$)(i.sendMessage,["prevent"]),ref:"form"},{default:(0,d.k6)((()=>[(0,d.bF)(m,{modelValue:o.message,"onUpdate:modelValue":t[1]||(t[1]=e=>o.message=e),placeholder:"Type a message...",outlined:"",dense:"","hide-details":"",autocomplete:"off",onKeydown:[(0,a.jR)((0,a.D$)(i.sendMessage,["prevent"]),["enter"]),i.handleKeyDown],class:"chat-input-field",disabled:s.loading,ref:"inputField"},{"prepend-inner":(0,d.k6)((()=>[(0,d.bF)(l,{bottom:""},{activator:(0,d.k6)((({on:e,attrs:s})=>[(0,d.bF)(c,(0,d.v6)({icon:"","x-small":""},s,(0,d.Tb)(e),{onClick:t[0]||(t[0]=e=>o.showCommandsList=!o.showCommandsList),class:"mt-1"}),{default:(0,d.k6)((()=>[(0,d.bF)(r,{small:""},{default:(0,d.k6)((()=>t[3]||(t[3]=[(0,d.eW)("mdi-slash-forward")]))),_:1})])),_:2},1040)])),default:(0,d.k6)((()=>[t[4]||(t[4]=(0,d.Lk)("span",null,"Command shortcuts",-1))])),_:1})])),append:(0,d.k6)((()=>[(0,d.bF)(c,{icon:"",color:"primary",onClick:i.sendMessage,disabled:!o.message.trim()||s.loading,loading:s.loading},{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>t[5]||(t[5]=[(0,d.eW)("mdi-send")]))),_:1})])),_:1},8,["onClick","disabled","loading"])])),_:1},8,["modelValue","onKeydown","disabled"])])),_:1},8,["onSubmit"]),(0,d.bF)(E,{modelValue:o.showCommandsList,"onUpdate:modelValue":t[2]||(t[2]=e=>o.showCommandsList=e),"close-on-content-click":!0,"nudge-width":200,"offset-y":"","content-class":"command-shortcuts-menu"},{default:(0,d.k6)((()=>[(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(_,{dense:""},{default:(0,d.k6)((()=>[(0,d.bF)(g,null,{default:(0,d.k6)((()=>t[6]||(t[6]=[(0,d.eW)("Command Shortcuts")]))),_:1}),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(s.commandShortcuts,(e=>((0,d.uX)(),(0,d.Wv)(k,{key:e.id,onClick:t=>i.useCommandShortcut(e),dense:""},{default:(0,d.k6)((()=>[(0,d.bF)(b,null,{default:(0,d.k6)((()=>[(0,d.bF)(p,{class:"text-body-2"},{default:(0,d.k6)((()=>[(0,d.eW)(" /"+(0,u.v_)(e.command),1)])),_:2},1024),(0,d.bF)(f,{class:"text-caption"},{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(e.description),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),s.commandShortcuts&&0!==s.commandShortcuts.length?(0,d.Q3)("",!0):((0,d.uX)(),(0,d.Wv)(k,{key:0},{default:(0,d.k6)((()=>[(0,d.bF)(b,null,{default:(0,d.k6)((()=>[(0,d.bF)(f,{class:"text-center"},{default:(0,d.k6)((()=>t[7]||(t[7]=[(0,d.eW)(" No command shortcuts available ")]))),_:1})])),_:1})])),_:1}))])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var V={name:"ChatInput",props:{loading:{type:Boolean,default:!1},commandShortcuts:{type:Array,default:()=>[]}},data(){return{message:"",showCommandsList:!1}},methods:{sendMessage(){if(this.loading)return;const e=this.message.trim();e&&(this.$emit("send",{type:"user",text:e,timestamp:(new Date).toISOString()}),this.message="")},setInputText(e){this.message=e,this.$nextTick((()=>{this.$refs.inputField&&this.$refs.inputField.focus()}))},handleKeyDown(e){"/"===e.key&&""===this.message&&(this.showCommandsList=!0);const t=this.message.match(/^\/(\w+)$/);if(t&&" "===e.key){const s=t[1],a=this.commandShortcuts.find((e=>e.command===s));a&&(e.preventDefault(),this.useCommandShortcut(a))}},useCommandShortcut(e){this.setInputText(e.template),this.showCommandsList=!1,this.$emit("use-shortcut",e)}}};const $=(0,L.A)(V,[["render",U],["__scopeId","data-v-6b4f7554"]]);var G=$;const H={class:"chat-commands"};function X(e,t,s,n,o,i){const r=(0,d.g2)("v-icon"),c=(0,d.g2)("v-spacer"),l=(0,d.g2)("v-btn"),m=(0,d.g2)("v-card-title"),h=(0,d.g2)("v-divider"),g=(0,d.g2)("v-list-item-icon"),p=(0,d.g2)("v-list-item-title"),f=(0,d.g2)("v-list-item-subtitle"),b=(0,d.g2)("v-list-item-content"),k=(0,d.g2)("v-list-item-action"),_=(0,d.g2)("v-list-item"),S=(0,d.g2)("v-list"),E=(0,d.g2)("v-card"),v=(0,d.g2)("v-text-field"),T=(0,d.g2)("v-textarea"),y=(0,d.g2)("v-form"),F=(0,d.g2)("v-card-text"),C=(0,d.g2)("v-progress-circular"),A=(0,d.g2)("v-card-actions"),w=(0,d.g2)("v-dialog");return(0,d.uX)(),(0,d.CE)("div",H,[(0,d.bF)(E,{outlined:"",class:"mb-4"},{default:(0,d.k6)((()=>[(0,d.bF)(m,{class:"text-subtitle-1"},{default:(0,d.k6)((()=>[(0,d.bF)(r,{left:"",small:""},{default:(0,d.k6)((()=>t[9]||(t[9]=[(0,d.eW)("mdi-lightning-bolt")]))),_:1}),t[11]||(t[11]=(0,d.eW)(" Command Shortcuts ")),(0,d.bF)(c),(0,d.bF)(l,{"x-small":"",icon:"",onClick:t[0]||(t[0]=e=>o.showCreateDialog=!0),title:"Create new shortcut"},{default:(0,d.k6)((()=>[(0,d.bF)(r,{small:""},{default:(0,d.k6)((()=>t[10]||(t[10]=[(0,d.eW)("mdi-plus")]))),_:1})])),_:1})])),_:1}),(0,d.bF)(h),(0,d.bF)(S,{dense:""},{default:(0,d.k6)((()=>[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(i.shortcuts,(e=>((0,d.uX)(),(0,d.Wv)(_,{key:e.id,onClick:t=>i.useShortcut(e),dense:""},{default:(0,d.k6)((()=>[(0,d.bF)(g,{class:"mr-2"},{default:(0,d.k6)((()=>[(0,d.bF)(r,{small:""},{default:(0,d.k6)((()=>t[12]||(t[12]=[(0,d.eW)("mdi-slash-forward")]))),_:1})])),_:1}),(0,d.bF)(b,null,{default:(0,d.k6)((()=>[(0,d.bF)(p,{class:"text-body-2"},{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(e.command),1)])),_:2},1024),(0,d.bF)(f,{class:"text-caption"},{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(e.description),1)])),_:2},1024)])),_:2},1024),(0,d.bF)(k,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,{icon:"","x-small":"",onClick:(0,a.D$)((t=>i.confirmDeleteShortcut(e)),["stop"]),title:"Delete shortcut"},{default:(0,d.k6)((()=>[(0,d.bF)(r,{"x-small":""},{default:(0,d.k6)((()=>t[13]||(t[13]=[(0,d.eW)("mdi-delete")]))),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128)),0===i.shortcuts.length?((0,d.uX)(),(0,d.Wv)(_,{key:0},{default:(0,d.k6)((()=>[(0,d.bF)(b,null,{default:(0,d.k6)((()=>[(0,d.bF)(f,{class:"text-center"},{default:(0,d.k6)((()=>t[14]||(t[14]=[(0,d.eW)(" No command shortcuts yet. Create your first one! ")]))),_:1})])),_:1})])),_:1})):(0,d.Q3)("",!0)])),_:1})])),_:1}),(0,d.bF)(w,{modelValue:o.showCreateDialog,"onUpdate:modelValue":t[6]||(t[6]=e=>o.showCreateDialog=e),"max-width":"500"},{default:(0,d.k6)((()=>[(0,d.bF)(E,null,{default:(0,d.k6)((()=>[(0,d.bF)(m,null,{default:(0,d.k6)((()=>t[15]||(t[15]=[(0,d.eW)("Create Command Shortcut")]))),_:1}),(0,d.bF)(F,null,{default:(0,d.k6)((()=>[(0,d.bF)(y,{ref:"shortcutForm",modelValue:o.formValid,"onUpdate:modelValue":t[4]||(t[4]=e=>o.formValid=e)},{default:(0,d.k6)((()=>[(0,d.bF)(v,{modelValue:o.newShortcut.command,"onUpdate:modelValue":t[1]||(t[1]=e=>o.newShortcut.command=e),label:"Command (e.g., /logs)",rules:[e=>!!e||"Command is required",e=>e.startsWith("/")||"Command must start with /",e=>e.length>=2||"Command must be at least 2 characters"],prefix:"/",hint:"Short command that will expand to the template",required:""},null,8,["modelValue","rules"]),(0,d.bF)(v,{modelValue:o.newShortcut.description,"onUpdate:modelValue":t[2]||(t[2]=e=>o.newShortcut.description=e),label:"Description",rules:[e=>!!e||"Description is required"],hint:"What this command does",required:""},null,8,["modelValue","rules"]),(0,d.bF)(T,{modelValue:o.newShortcut.template,"onUpdate:modelValue":t[3]||(t[3]=e=>o.newShortcut.template=e),label:"Template",rules:[e=>!!e||"Template is required"],hint:"The expanded text when command is used",rows:"3",required:""},null,8,["modelValue","rules"])])),_:1},8,["modelValue"])])),_:1}),(0,d.bF)(A,null,{default:(0,d.k6)((()=>[(0,d.bF)(c),(0,d.bF)(l,{text:"",onClick:t[5]||(t[5]=e=>o.showCreateDialog=!1)},{default:(0,d.k6)((()=>t[16]||(t[16]=[(0,d.eW)(" Cancel ")]))),_:1}),(0,d.bF)(l,{color:"primary",disabled:!o.formValid||o.creating,onClick:i.createShortcut},{default:(0,d.k6)((()=>[t[17]||(t[17]=(0,d.eW)(" Create ")),o.creating?((0,d.uX)(),(0,d.Wv)(C,{key:0,indeterminate:"",size:"16",class:"ml-2"})):(0,d.Q3)("",!0)])),_:1},8,["disabled","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,d.bF)(w,{modelValue:o.showDeleteDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>o.showDeleteDialog=e),"max-width":"400"},{default:(0,d.k6)((()=>[(0,d.bF)(E,null,{default:(0,d.k6)((()=>[(0,d.bF)(m,null,{default:(0,d.k6)((()=>t[18]||(t[18]=[(0,d.eW)("Delete Shortcut")]))),_:1}),(0,d.bF)(F,null,{default:(0,d.k6)((()=>[t[19]||(t[19]=(0,d.eW)(" Are you sure you want to delete the shortcut ")),(0,d.Lk)("strong",null,(0,u.v_)(o.shortcutToDelete?o.shortcutToDelete.command:""),1),t[20]||(t[20]=(0,d.eW)("? "))])),_:1}),(0,d.bF)(A,null,{default:(0,d.k6)((()=>[(0,d.bF)(c),(0,d.bF)(l,{text:"",onClick:t[7]||(t[7]=e=>o.showDeleteDialog=!1)},{default:(0,d.k6)((()=>t[21]||(t[21]=[(0,d.eW)(" Cancel ")]))),_:1}),(0,d.bF)(l,{color:"error",loading:o.deleting,onClick:i.deleteShortcut},{default:(0,d.k6)((()=>t[22]||(t[22]=[(0,d.eW)(" Delete ")]))),_:1},8,["loading","onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var B={name:"ChatCommands",data(){return{showCreateDialog:!1,showDeleteDialog:!1,shortcutToDelete:null,formValid:!1,creating:!1,deleting:!1,newShortcut:{command:"",description:"",template:""}}},computed:{...(0,n.aH)("chat",["commandShortcuts"]),shortcuts(){return this.commandShortcuts||[]}},methods:{...(0,n.i0)("chat",["loadCommandShortcuts","createCommandShortcut","deleteCommandShortcut","useCommandShortcut"]),async createShortcut(){if(this.formValid){this.creating=!0;try{let e=this.newShortcut.command;e.startsWith("/")&&(e=e.substring(1)),await this.createCommandShortcut({command:e,description:this.newShortcut.description,template:this.newShortcut.template}),this.newShortcut={command:"",description:"",template:""},this.$refs.shortcutForm&&this.$refs.shortcutForm.reset(),this.showCreateDialog=!1,this.$emit("notification",{type:"success",message:"Command shortcut created successfully"})}catch(e){console.error("Error creating shortcut:",e),this.$emit("notification",{type:"error",message:"Failed to create command shortcut"})}finally{this.creating=!1}}},confirmDeleteShortcut(e){this.shortcutToDelete=e,this.showDeleteDialog=!0},async deleteShortcut(){if(this.shortcutToDelete){this.deleting=!0;try{await this.deleteCommandShortcut(this.shortcutToDelete.id),this.showDeleteDialog=!1,this.shortcutToDelete=null,this.$emit("notification",{type:"success",message:"Command shortcut deleted successfully"})}catch(e){console.error("Error deleting shortcut:",e),this.$emit("notification",{type:"error",message:"Failed to delete command shortcut"})}finally{this.deleting=!1}}},useShortcut(e){this.$emit("use-shortcut",e)}},created(){this.loadCommandShortcuts()}};const q=(0,L.A)(B,[["render",X],["__scopeId","data-v-a6483898"]]);var K=q;const j={class:"chat-preferences"},J={class:"mb-3"},Q={class:"mb-3"},z={class:"mb-3"},Y={class:"mb-3"},Z={class:"d-flex justify-space-between mb-2"},ee={class:"text-body-2"},te={class:"d-flex justify-space-between mb-2"},se={class:"text-body-2"},ae={class:"d-flex justify-space-between mb-2"},ne={class:"text-body-2"},oe={key:0,class:"mt-4"};function ie(e,t,s,a,n,o){const i=(0,d.g2)("v-icon"),r=(0,d.g2)("v-card-title"),c=(0,d.g2)("v-divider"),l=(0,d.g2)("v-radio"),m=(0,d.g2)("v-radio-group"),h=(0,d.g2)("v-switch"),g=(0,d.g2)("v-combobox"),p=(0,d.g2)("v-form"),f=(0,d.g2)("v-card-text"),b=(0,d.g2)("v-chip"),k=(0,d.g2)("v-card");return(0,d.uX)(),(0,d.CE)("div",j,[(0,d.bF)(k,{outlined:"",class:"mb-4"},{default:(0,d.k6)((()=>[(0,d.bF)(r,{class:"text-subtitle-1"},{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:"",small:""},{default:(0,d.k6)((()=>t[4]||(t[4]=[(0,d.eW)("mdi-cog")]))),_:1}),t[5]||(t[5]=(0,d.eW)(" AI Assistant Preferences "))])),_:1}),(0,d.bF)(c),(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.bF)(p,{ref:"form"},{default:(0,d.k6)((()=>[(0,d.Lk)("div",J,[t[6]||(t[6]=(0,d.Lk)("div",{class:"text-subtitle-2 mb-1"},"Response Style",-1)),(0,d.bF)(m,{modelValue:n.preferences.response_style,"onUpdate:modelValue":t[0]||(t[0]=e=>n.preferences.response_style=e),"hide-details":"",dense:"",row:"",onChange:o.savePreferences},{default:(0,d.k6)((()=>[(0,d.bF)(l,{label:"Technical",value:"technical",dense:""}),(0,d.bF)(l,{label:"Balanced",value:"balanced",dense:""}),(0,d.bF)(l,{label:"Simple",value:"simple",dense:""})])),_:1},8,["modelValue","onChange"])]),(0,d.Lk)("div",Q,[(0,d.bF)(h,{modelValue:n.preferences.auto_suggestions,"onUpdate:modelValue":t[1]||(t[1]=e=>n.preferences.auto_suggestions=e),label:"Show automatic suggestions","hide-details":"",dense:"",onChange:o.savePreferences},null,8,["modelValue","onChange"])]),(0,d.Lk)("div",z,[t[7]||(t[7]=(0,d.Lk)("div",{class:"text-subtitle-2 mb-1"},"Preferred Topics",-1)),(0,d.bF)(g,{modelValue:n.preferences.preferred_topics,"onUpdate:modelValue":t[2]||(t[2]=e=>n.preferences.preferred_topics=e),items:n.availableTopics,chips:"",multiple:"","small-chips":"",dense:"","hide-details":"",placeholder:"Select or type topics you're interested in",onChange:o.savePreferences},null,8,["modelValue","items","onChange"])]),(0,d.Lk)("div",Y,[t[8]||(t[8]=(0,d.Lk)("div",{class:"text-subtitle-2 mb-1"},"Avoided Topics",-1)),(0,d.bF)(g,{modelValue:n.preferences.avoided_topics,"onUpdate:modelValue":t[3]||(t[3]=e=>n.preferences.avoided_topics=e),items:n.availableTopics,chips:"",multiple:"","small-chips":"",dense:"","hide-details":"",placeholder:"Select or type topics you want to avoid",onChange:o.savePreferences},null,8,["modelValue","items","onChange"])])])),_:1},512)])),_:1}),(0,d.bF)(c),(0,d.bF)(r,{class:"text-subtitle-1 pt-3"},{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:"",small:""},{default:(0,d.k6)((()=>t[9]||(t[9]=[(0,d.eW)("mdi-chart-bar")]))),_:1}),t[10]||(t[10]=(0,d.eW)(" Feedback Summary "))])),_:1}),(0,d.bF)(f,null,{default:(0,d.k6)((()=>[(0,d.Lk)("div",Z,[t[11]||(t[11]=(0,d.Lk)("span",{class:"text-body-2"},"Positive Feedback:",-1)),(0,d.Lk)("span",ee,(0,u.v_)(o.positiveFeedbackCount),1)]),(0,d.Lk)("div",te,[t[12]||(t[12]=(0,d.Lk)("span",{class:"text-body-2"},"Negative Feedback:",-1)),(0,d.Lk)("span",se,(0,u.v_)(o.negativeFeedbackCount),1)]),(0,d.Lk)("div",ae,[t[13]||(t[13]=(0,d.Lk)("span",{class:"text-body-2"},"Last Feedback:",-1)),(0,d.Lk)("span",ne,(0,u.v_)(o.formattedLastFeedbackTime),1)]),o.topRatedTopics.length>0?((0,d.uX)(),(0,d.CE)("div",oe,[t[14]||(t[14]=(0,d.Lk)("div",{class:"text-subtitle-2 mb-2"},"Top Rated Topics",-1)),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(o.topRatedTopics,(e=>((0,d.uX)(),(0,d.Wv)(b,{key:e.name,class:"mr-2 mb-2","x-small":"",color:o.getTopicColor(e.avgRating),"text-color":"white"},{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(e.name)+" ("+(0,u.v_)(e.avgRating.toFixed(1))+") ",1)])),_:2},1032,["color"])))),128))])):(0,d.Q3)("",!0)])),_:1})])),_:1})])}var re={name:"ChatPreferences",data(){return{availableTopics:["containers","images","volumes","networks","security","troubleshooting","backup","configuration"],preferences:{response_style:"balanced",auto_suggestions:!0,preferred_topics:[],avoided_topics:[]},saving:!1}},computed:{...(0,n.aH)("chat",["userPreferences"]),positiveFeedbackCount(){return this.userPreferences?.feedback_preferences?.positively_rated_responses||0},negativeFeedbackCount(){return this.userPreferences?.feedback_preferences?.negatively_rated_responses||0},formattedLastFeedbackTime(){const e=this.userPreferences?.feedback_preferences?.last_feedback_time;if(!e)return"None";try{const t=new Date(e);return t.toLocaleString()}catch(t){return"Invalid date"}},topRatedTopics(){const e=this.userPreferences?.feedback_preferences?.topic_ratings||{};return Object.entries(e).map((([e,t])=>({name:e,count:t.count,avgRating:t.avg_rating}))).filter((e=>e.count>=2)).sort(((e,t)=>t.avgRating-e.avgRating)).slice(0,5)}},methods:{...(0,n.i0)("chat",["updateUserPreferences"]),async savePreferences(){if(!this.saving){this.saving=!0;try{await this.updateUserPreferences(this.preferences),this.$emit("notification",{type:"success",message:"Preferences saved successfully"})}catch(e){console.error("Error saving preferences:",e),this.$emit("notification",{type:"error",message:"Failed to save preferences"}),this.preferences={...this.userPreferences}}finally{this.saving=!1}}},getTopicColor(e){return e>=4.5?"green darken-1":e>=4?"green":e>=3.5?"lime darken-2":e>=3?"orange":e>=2.5?"amber darken-2":"red"}},watch:{userPreferences:{handler(e){e&&(this.preferences={response_style:e.response_style||"balanced",auto_suggestions:void 0===e.auto_suggestions||e.auto_suggestions,preferred_topics:[...e.preferred_topics||[]],avoided_topics:[...e.avoided_topics||[]]})},immediate:!0,deep:!0}}};const ce=(0,L.A)(re,[["render",ie],["__scopeId","data-v-30f0e060"]]);var le=ce,de={name:"ChatSidebar",components:{ChatMessage:M,ChatInput:G,ChatCommands:K,ChatPreferences:le},props:{value:{type:Boolean,default:!1}},data(){return{deleteDialog:!1,sessionToDelete:null,activeTab:0,snackbar:{show:!1,text:"",color:"info"}}},computed:{...(0,n.L8)("chat",["messages","isLoading","error","suggestions","currentSession","sessions","getFeedbackForMessage","commandShortcuts"]),localValue:{get(){return this.value||this.$store.getters["chat/isActive"]},set(e){this.$emit("input",e),this.$store.commit("chat/SET_ACTIVE",e)}},sessionTitle(){return this.currentSession?.title||"New Chat"}},methods:{...(0,n.i0)("chat",["sendMessage","clearChat","createSession","loadSession","loadSessions","switchSession","deleteSession","submitMessageFeedback","updateMessageFeedback","useCommandShortcut"]),handleSendMessage(e){this.sendMessage(e.text),this.scrollToBottom()},handleSuggestionClick(e){this.sendMessage(e),this.scrollToBottom()},scrollToBottom(){this.$nextTick((()=>{this.$refs.chatMessages&&(this.$refs.chatMessages.scrollTop=this.$refs.chatMessages.scrollHeight)}))},async newSession(){try{await this.createSession(),await this.loadSessions(),this.scrollToBottom()}catch(e){console.error("Error creating new session:",e)}},confirmDeleteSession(e){this.sessionToDelete=e,this.deleteDialog=!0},handleFeedbackSubmitted(e){this.updateMessageFeedback({messageId:e.messageId,feedback:{id:e.feedbackId,rating:e.rating,feedback_text:e.feedbackText}}),this.showNotification({type:"success",message:"Thank you for your feedback!"})},async handleShortcutUse(e){try{this.activeTab=0;const t=await this.useCommandShortcut(e.command);this.$refs.chatInput?this.$refs.chatInput.setInputText(t.template):this.sendMessage(t.template)}catch(t){console.error("Error using command shortcut:",t),this.showNotification({type:"error",message:"Failed to use command shortcut"})}},showNotification({type:e,message:t}){this.snackbar={show:!0,text:t,color:"error"===e?"error":"success"},setTimeout((()=>{this.snackbar.show=!1}),3e3)}},watch:{messages(){this.scrollToBottom()},value(e){e&&this.scrollToBottom()}},mounted(){this.$store.dispatch("chat/init"),this.$store.getters["chat/isActive"]&&this.$emit("input",!0),this.scrollToBottom()}};const ue=(0,L.A)(de,[["render",_],["__scopeId","data-v-262f2967"]]);var me=ue,he={name:"App",components:{ChatSidebar:me},data(){return{drawer:!0}},created(){this.applyTheme(),this.$store.dispatch("auth/init"),this.$router.beforeEach(((e,t,s)=>{const a=e.matched.some((e=>e.meta.requiresAuth)),n=this.$store.getters["auth/isAuthenticated"],o=this.$store.getters["auth/passwordChangeRequired"];a&&!n?s("/login"):"/login"===e.path&&n?s("/"):o&&"/change-password"!==e.path&&n?s({path:"/change-password",query:{forced:"true"}}):s()})),this.$router.afterEach((e=>{const t=e.path.split("/")[1]||"dashboard";this.updateChatContext({currentPage:t}),e.params.containerId?this.updateChatContext({currentContainerId:e.params.containerId}):e.params.imageId&&this.updateChatContext({currentImageId:e.params.imageId})}))},computed:{...(0,n.L8)("chat",["isActive"]),isAuthenticated(){return this.$store.getters["auth/isAuthenticated"]},currentUser(){return this.$store.getters["auth/user"]},isDarkMode(){return this.$store.getters.darkMode},isChatSidebarOpen:{get(){return this.isActive},set(e){this.$store.commit("chat/SET_ACTIVE",e)}}},methods:{...(0,n.i0)("chat",["toggleChat","updateContext"]),logout(){this.$store.dispatch("auth/logout"),this.$router.push("/login")},applyTheme(){this.$vuetify.theme.global.name=this.isDarkMode?"dark":"light"},updateChatContext(e){this.updateContext(e)}},watch:{isDarkMode:{handler(e){this.$vuetify.theme.global.name=e?"dark":"light"},immediate:!0}}};const ge=(0,L.A)(he,[["render",m]]);var pe=ge;const fe={class:"dashboard"},be={class:"mb-2"},ke={class:"mb-2"};function _e(e,t,s,a,n,o){const i=(0,d.g2)("v-icon"),r=(0,d.g2)("v-card-title"),c=(0,d.g2)("v-col"),l=(0,d.g2)("v-row"),m=(0,d.g2)("v-card-text"),h=(0,d.g2)("v-card"),g=(0,d.g2)("v-progress-linear"),p=(0,d.g2)("v-avatar"),f=(0,d.g2)("v-btn"),b=(0,d.g2)("v-list-item-icon"),k=(0,d.g2)("v-list-item-title"),_=(0,d.g2)("v-list-item-subtitle"),S=(0,d.g2)("v-list-item-content"),E=(0,d.g2)("v-list-item"),v=(0,d.g2)("v-list");return(0,d.uX)(),(0,d.CE)("div",fe,[t[32]||(t[32]=(0,d.Lk)("h1",{class:"text-h4 mb-4"},"Dashboard",-1)),(0,d.bF)(l,null,{default:(0,d.k6)((()=>[(0,d.bF)(c,{cols:"12",md:"6"},{default:(0,d.k6)((()=>[(0,d.bF)(h,{class:"mb-4"},{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[0]||(t[0]=[(0,d.eW)("mdi-server")]))),_:1}),t[1]||(t[1]=(0,d.eW)(" System Overview "))])),_:1}),(0,d.bF)(m,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>[(0,d.bF)(c,{cols:"6"},{default:(0,d.k6)((()=>t[2]||(t[2]=[(0,d.Lk)("div",{class:"text-subtitle-1"},"Docker Version",-1),(0,d.Lk)("div",{class:"text-body-1"},"20.10.23",-1)]))),_:1}),(0,d.bF)(c,{cols:"6"},{default:(0,d.k6)((()=>t[3]||(t[3]=[(0,d.Lk)("div",{class:"text-subtitle-1"},"API Version",-1),(0,d.Lk)("div",{class:"text-body-1"},"1.41",-1)]))),_:1}),(0,d.bF)(c,{cols:"6"},{default:(0,d.k6)((()=>t[4]||(t[4]=[(0,d.Lk)("div",{class:"text-subtitle-1"},"OS/Arch",-1),(0,d.Lk)("div",{class:"text-body-1"},"linux/amd64",-1)]))),_:1}),(0,d.bF)(c,{cols:"6"},{default:(0,d.k6)((()=>t[5]||(t[5]=[(0,d.Lk)("div",{class:"text-subtitle-1"},"Kernel Version",-1),(0,d.Lk)("div",{class:"text-body-1"},"5.15.0-76-generic",-1)]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,d.bF)(c,{cols:"12",md:"6"},{default:(0,d.k6)((()=>[(0,d.bF)(h,{class:"mb-4"},{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[6]||(t[6]=[(0,d.eW)("mdi-chart-line")]))),_:1}),t[7]||(t[7]=(0,d.eW)(" Resource Usage "))])),_:1}),(0,d.bF)(m,null,{default:(0,d.k6)((()=>[(0,d.Lk)("div",be,[t[8]||(t[8]=(0,d.Lk)("div",{class:"d-flex justify-space-between align-center"},[(0,d.Lk)("span",null,"CPU Usage"),(0,d.Lk)("span",null,"45%")],-1)),(0,d.bF)(g,{color:"primary",height:"10",rounded:"",value:"45"})]),(0,d.Lk)("div",ke,[t[9]||(t[9]=(0,d.Lk)("div",{class:"d-flex justify-space-between align-center"},[(0,d.Lk)("span",null,"Memory Usage"),(0,d.Lk)("span",null,"2.1 GB / 8 GB")],-1)),(0,d.bF)(g,{color:"info",height:"10",rounded:"",value:"26"})]),(0,d.Lk)("div",null,[t[10]||(t[10]=(0,d.Lk)("div",{class:"d-flex justify-space-between align-center"},[(0,d.Lk)("span",null,"Disk Usage"),(0,d.Lk)("span",null,"15.4 GB / 50 GB")],-1)),(0,d.bF)(g,{color:"success",height:"10",rounded:"",value:"31"})])])),_:1})])),_:1})])),_:1})])),_:1}),(0,d.bF)(l,null,{default:(0,d.k6)((()=>[(0,d.bF)(c,{cols:"12",md:"6"},{default:(0,d.k6)((()=>[(0,d.bF)(h,{class:"mb-4"},{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[11]||(t[11]=[(0,d.eW)("mdi-docker")]))),_:1}),t[12]||(t[12]=(0,d.eW)(" Container Status "))])),_:1}),(0,d.bF)(m,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>[(0,d.bF)(c,{cols:"4",class:"text-center"},{default:(0,d.k6)((()=>[(0,d.bF)(p,{color:"success",size:"48",class:"mb-2"},{default:(0,d.k6)((()=>t[13]||(t[13]=[(0,d.Lk)("span",{class:"text-h6 white--text"},"5",-1)]))),_:1}),t[14]||(t[14]=(0,d.Lk)("div",null,"Running",-1))])),_:1}),(0,d.bF)(c,{cols:"4",class:"text-center"},{default:(0,d.k6)((()=>[(0,d.bF)(p,{color:"warning",size:"48",class:"mb-2"},{default:(0,d.k6)((()=>t[15]||(t[15]=[(0,d.Lk)("span",{class:"text-h6 white--text"},"2",-1)]))),_:1}),t[16]||(t[16]=(0,d.Lk)("div",null,"Paused",-1))])),_:1}),(0,d.bF)(c,{cols:"4",class:"text-center"},{default:(0,d.k6)((()=>[(0,d.bF)(p,{color:"error",size:"48",class:"mb-2"},{default:(0,d.k6)((()=>t[17]||(t[17]=[(0,d.Lk)("span",{class:"text-h6 white--text"},"3",-1)]))),_:1}),t[18]||(t[18]=(0,d.Lk)("div",null,"Stopped",-1))])),_:1})])),_:1}),(0,d.bF)(f,{color:"primary",block:"",class:"mt-4",to:"/containers"},{default:(0,d.k6)((()=>t[19]||(t[19]=[(0,d.eW)("View All Containers")]))),_:1})])),_:1})])),_:1})])),_:1}),(0,d.bF)(c,{cols:"12",md:"6"},{default:(0,d.k6)((()=>[(0,d.bF)(h,{class:"mb-4"},{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[20]||(t[20]=[(0,d.eW)("mdi-history")]))),_:1}),t[21]||(t[21]=(0,d.eW)(" Recent Activity "))])),_:1}),(0,d.bF)(v,{dense:""},{default:(0,d.k6)((()=>[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(n.recentActivities,((e,t)=>((0,d.uX)(),(0,d.Wv)(E,{key:t},{default:(0,d.k6)((()=>[(0,d.bF)(b,null,{default:(0,d.k6)((()=>[(0,d.bF)(i,{color:e.color},{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(e.icon),1)])),_:2},1032,["color"])])),_:2},1024),(0,d.bF)(S,null,{default:(0,d.k6)((()=>[(0,d.bF)(k,null,{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(e.title),1)])),_:2},1024),(0,d.bF)(_,null,{default:(0,d.k6)((()=>[(0,d.eW)((0,u.v_)(e.time),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1}),(0,d.bF)(l,null,{default:(0,d.k6)((()=>[(0,d.bF)(c,{cols:"12"},{default:(0,d.k6)((()=>[(0,d.bF)(h,null,{default:(0,d.k6)((()=>[(0,d.bF)(r,null,{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[22]||(t[22]=[(0,d.eW)("mdi-lightning-bolt")]))),_:1}),t[23]||(t[23]=(0,d.eW)(" Quick Actions "))])),_:1}),(0,d.bF)(m,null,{default:(0,d.k6)((()=>[(0,d.bF)(l,null,{default:(0,d.k6)((()=>[(0,d.bF)(c,{cols:"6",sm:"3"},{default:(0,d.k6)((()=>[(0,d.bF)(f,{block:"",color:"primary",to:"/containers/create"},{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[24]||(t[24]=[(0,d.eW)("mdi-plus")]))),_:1}),t[25]||(t[25]=(0,d.eW)(" New Container "))])),_:1})])),_:1}),(0,d.bF)(c,{cols:"6",sm:"3"},{default:(0,d.k6)((()=>[(0,d.bF)(f,{block:"",color:"info",to:"/images/pull"},{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[26]||(t[26]=[(0,d.eW)("mdi-download")]))),_:1}),t[27]||(t[27]=(0,d.eW)(" Pull Image "))])),_:1})])),_:1}),(0,d.bF)(c,{cols:"6",sm:"3"},{default:(0,d.k6)((()=>[(0,d.bF)(f,{block:"",color:"success",to:"/backup/create"},{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[28]||(t[28]=[(0,d.eW)("mdi-backup-restore")]))),_:1}),t[29]||(t[29]=(0,d.eW)(" Create Backup "))])),_:1})])),_:1}),(0,d.bF)(c,{cols:"6",sm:"3"},{default:(0,d.k6)((()=>[(0,d.bF)(f,{block:"",color:"warning",to:"/security/scan"},{default:(0,d.k6)((()=>[(0,d.bF)(i,{left:""},{default:(0,d.k6)((()=>t[30]||(t[30]=[(0,d.eW)("mdi-shield-search")]))),_:1}),t[31]||(t[31]=(0,d.eW)(" Security Scan "))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])}var Se={name:"Dashboard",data(){return{recentActivities:[{icon:"mdi-play",color:"success",title:"Container nginx started",time:"5 minutes ago"},{icon:"mdi-stop",color:"error",title:"Container redis stopped",time:"10 minutes ago"},{icon:"mdi-download",color:"info",title:"Image postgres:latest pulled",time:"15 minutes ago"},{icon:"mdi-shield",color:"warning",title:"Security scan completed",time:"30 minutes ago"},{icon:"mdi-backup-restore",color:"success",title:"Backup created",time:"1 hour ago"}]}}};const Ee=(0,L.A)(Se,[["render",_e],["__scopeId","data-v-1f6b77ec"]]);var ve=Ee;const Te=[{path:"/",name:"Dashboard",component:ve,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:()=>s.e(869).then(s.bind(s,5869)),meta:{guest:!0}},{path:"/change-password",name:"PasswordChange",component:()=>s.e(667).then(s.bind(s,9667)),meta:{requiresAuth:!0}},{path:"/containers",name:"Containers",component:()=>s.e(718).then(s.bind(s,7718)),meta:{requiresAuth:!0}},{path:"/containers/:id",name:"ContainerDetail",component:()=>s.e(949).then(s.bind(s,9949)),meta:{requiresAuth:!0}},{path:"/images",name:"Images",component:()=>Promise.all([s.e(526),s.e(0)]).then(s.bind(s,5e3)),meta:{requiresAuth:!0}},{path:"/images/:id",name:"ImageDetail",component:()=>Promise.all([s.e(526),s.e(433)]).then(s.bind(s,5433)),meta:{requiresAuth:!0}},{path:"/images/:id/security/:scanId",name:"ImageSecurity",component:()=>Promise.all([s.e(526),s.e(644)]).then(s.bind(s,3644)),meta:{requiresAuth:!0}},{path:"/volumes",name:"Volumes",component:()=>s.e(978).then(s.bind(s,8978)),meta:{requiresAuth:!0}},{path:"/volumes/:id",name:"VolumeDetail",component:()=>s.e(722).then(s.bind(s,722)),meta:{requiresAuth:!0}},{path:"/networks",name:"Networks",component:()=>s.e(248).then(s.bind(s,248)),meta:{requiresAuth:!0}},{path:"/networks/:id",name:"NetworkDetail",component:()=>s.e(814).then(s.bind(s,2814)),meta:{requiresAuth:!0}},{path:"/compose",name:"Compose",component:()=>s.e(339).then(s.bind(s,4339)),meta:{requiresAuth:!0}},{path:"/compose/:id",name:"ComposeDetail",component:()=>s.e(577).then(s.bind(s,4577)),meta:{requiresAuth:!0}},{path:"/security",name:"Security",component:()=>s.e(441).then(s.bind(s,3441)),meta:{requiresAuth:!0}},{path:"/backup",name:"Backup",component:()=>s.e(249).then(s.bind(s,3249)),meta:{requiresAuth:!0}},{path:"/monitoring",name:"Monitoring",component:()=>s.e(967).then(s.bind(s,5967)),meta:{requiresAuth:!0}},{path:"/settings",name:"Settings",component:()=>s.e(97).then(s.bind(s,97)),meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>s.e(349).then(s.bind(s,2349))}];var ye=Te;const Fe={images:[],image:null,scans:[],currentScan:null,loading:!1,error:null},Ce={getImageById:e=>t=>e.images.find((e=>e.id===t)),getImageByName:e=>(t,s="latest")=>e.images.find((e=>e.tags&&e.tags.some((e=>{const[a,n]=e.split(":");return a===t&&(n||"latest")===s})))),getScansForImage:e=>t=>e.scans.filter((e=>e.image_id===t))},Ae={async getImages({commit:e}){e("SET_LOADING",!0);try{const t=await l.A.get("/api/images");return e("SET_IMAGES",t.data),t.data}catch(t){throw e("SET_ERROR",t.response?.data?.detail||t.message),t}finally{e("SET_LOADING",!1)}},async getImage({commit:e},t){e("SET_LOADING",!0);try{const s=await l.A.get(`/api/images/${t}`);return e("SET_IMAGE",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async pullImage({commit:e},{name:t,tag:s="latest"}){e("SET_LOADING",!0);try{const a=await l.A.post("/api/images",{name:t,tag:s});return e("ADD_IMAGE",a.data),a.data}catch(a){throw e("SET_ERROR",a.response?.data?.detail||a.message),a}finally{e("SET_LOADING",!1)}},async removeImage({commit:e},{id:t,force:s=!1}){e("SET_LOADING",!0);try{return await l.A.delete(`/api/images/${t}?force=${s}`),e("REMOVE_IMAGE",t),!0}catch(a){throw e("SET_ERROR",a.response?.data?.detail||a.message),a}finally{e("SET_LOADING",!1)}},async scanImageVulnerabilities({commit:e},t){e("SET_LOADING",!0);try{const s=await l.A.post(`/api/images/${t}/scan`,{scan_type:"vulnerability"});return e("SET_CURRENT_SCAN",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async getImageScans({commit:e},t){e("SET_LOADING",!0);try{const s=await l.A.get(`/api/images/${t}/scans`);return e("SET_SCANS",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async getImageScan({commit:e},{imageId:t,scanId:s}){e("SET_LOADING",!0);try{const a=await l.A.get(`/api/images/${t}/scans/${s}`);return e("SET_CURRENT_SCAN",a.data),a.data}catch(a){throw e("SET_ERROR",a.response?.data?.detail||a.message),a}finally{e("SET_LOADING",!1)}}},we={SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},SET_IMAGES(e,t){e.images=t},SET_IMAGE(e,t){e.image=t;const s=e.images.findIndex((e=>e.id===t.id));-1!==s?e.images.splice(s,1,t):e.images.push(t)},ADD_IMAGE(e,t){const s=e.images.findIndex((e=>e.id===t.id));-1!==s?e.images.splice(s,1,t):e.images.push(t)},REMOVE_IMAGE(e,t){e.images=e.images.filter((e=>e.id!==t)),e.image&&e.image.id===t&&(e.image=null)},SET_SCANS(e,t){e.scans=t},SET_CURRENT_SCAN(e,t){e.currentScan=t;const s=e.scans.findIndex((e=>e.id===t.scan.id));-1!==s?e.scans.splice(s,1,t.scan):e.scans.push(t.scan)}};var Ie={namespaced:!0,state:Fe,getters:Ce,actions:Ae,mutations:we};s(4787);class Re{constructor(){this.socket=null,this.connected=!1,this.reconnectionAttempts=0,this.maxReconnectionAttempts=5,this.userId="anonymous",this.activeSubscriptions=new Set}init(e="anonymous"){this.socket&&this.disconnect(),this.userId=e;const t="https:"===window.location.protocol?"wss:":"ws:",s=window.location.host,a=`${t}//${s}/ws/${e}`;this.socket=new WebSocket(a),this.socket.onopen=this.onOpen.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onmessage=this.onMessage.bind(this),console.log(`WebSocket connecting to ${a}`)}onOpen(){console.log("WebSocket connection established"),this.connected=!0,this.reconnectionAttempts=0,this.resubscribeToSessions(),this.startPingInterval()}onClose(e){if(console.log(`WebSocket connection closed: ${e.code} ${e.reason}`),this.connected=!1,this.clearPingInterval(),1e3!==e.code&&this.reconnectionAttempts<this.maxReconnectionAttempts){this.reconnectionAttempts++;const e=Math.min(1e3*Math.pow(2,this.reconnectionAttempts),3e4);console.log(`Attempting to reconnect in ${e}ms (attempt ${this.reconnectionAttempts})`),setTimeout((()=>{this.init(this.userId)}),e)}}onError(e){console.error("WebSocket error:",e)}onMessage(e){try{const t=JSON.parse(e.data);switch(console.log("WebSocket message received:",t),t.type){case"connection_established":this.handleConnectionEstablished(t);break;case"chat_message":this.handleChatMessage(t);break;case"message_chunk":this.handleMessageChunk(t);break;case"typing_status":this.handleTypingStatus(t);break;case"read_receipt":this.handleReadReceipt(t);break;case"task_update":this.handleTaskUpdate(t);break;case"pong":break;case"error":console.error("WebSocket error from server:",t.error);break;default:console.warn("Unknown message type:",t.type)}}catch(t){console.error("Error parsing WebSocket message:",t)}}send(e){if(!this.connected||!this.socket)return console.warn("Cannot send message: WebSocket not connected"),!1;try{return this.socket.send(JSON.stringify(e)),!0}catch(t){return console.error("Error sending WebSocket message:",t),!1}}disconnect(){this.socket&&(this.clearPingInterval(),this.socket.close(),this.socket=null,this.connected=!1,this.activeSubscriptions.clear())}subscribeToSession(e){return this.connected?(this.send({type:"subscribe",session_id:e}),this.activeSubscriptions.add(e),console.log(`Subscribed to session ${e}`),!0):(console.warn(`Cannot subscribe to session ${e}: WebSocket not connected`),!1)}unsubscribeFromSession(e){return this.connected?(this.send({type:"unsubscribe",session_id:e}),this.activeSubscriptions.delete(e),console.log(`Unsubscribed from session ${e}`),!0):(console.warn(`Cannot unsubscribe from session ${e}: WebSocket not connected`),!1)}updateTypingStatus(e,t){this.send({type:"typing",is_typing:e,session_id:t})}sendReadReceipt(e,t){this.send({type:"read_receipt",message_id:e,session_id:t})}resubscribeToSessions(){for(const e of this.activeSubscriptions)this.subscribeToSession(e)}startPingInterval(){this.pingInterval=setInterval((()=>{this.connected&&this.send({type:"ping",timestamp:(new Date).toISOString()})}),3e4)}clearPingInterval(){this.pingInterval&&(clearInterval(this.pingInterval),this.pingInterval=null)}handleConnectionEstablished(e){const t=Be.getters["chat/currentSession"];t&&this.subscribeToSession(t.id)}handleChatMessage(e){const t=Be.getters["chat/currentSession"];if(t&&e.session_id===t.id){const t=Be.getters["chat/messages"].find((t=>t.id===e.message.id));t||Be.commit("chat/ADD_MESSAGE",e.message)}}handleMessageChunk(e){Be.dispatch("chat/handleMessageChunk",e)}handleTypingStatus(e){Be.commit("chat/SET_TYPING_STATUS",{userId:e.user_id,isTyping:e.is_typing,sessionId:e.session_id})}handleReadReceipt(e){Be.commit("chat/SET_MESSAGE_READ",{messageId:e.message_id,userId:e.user_id,timestamp:e.timestamp})}handleTaskUpdate(e){Be.dispatch("chat/updateTaskStatus",e)}}const Oe=new Re;var De=Oe,Ne={namespaced:!0,state:{messages:[{type:"ai",text:"Hello! I'm your DockerForge AI assistant. How can I help you with your Docker containers today?",timestamp:(new Date).toISOString()}],isActive:!1,loading:!1,error:null,context:{currentPage:null,currentContainerId:null,currentImageId:null},currentSession:null,sessions:[],suggestions:[],userPreferences:{response_style:"balanced",auto_suggestions:!0,preferred_topics:[],avoided_topics:[]},messageFeedback:{},commandShortcuts:[],relevantMemories:[],typingStatus:{},streamingMessages:{},messageReadStatus:{},activeTasks:{},websocketConnected:!1},mutations:{ADD_MESSAGE(e,t){e.messages.push(t),localStorage.setItem("chatMessages",JSON.stringify(e.messages))},SET_MESSAGES(e,t){e.messages=t,localStorage.setItem("chatMessages",JSON.stringify(e.messages))},CLEAR_MESSAGES(e){e.messages=[{type:"ai",text:"Hello! I'm your DockerForge AI assistant. How can I help you with your Docker containers today?",timestamp:(new Date).toISOString()}],localStorage.setItem("chatMessages",JSON.stringify(e.messages))},SET_ACTIVE(e,t){e.isActive=t,localStorage.setItem("chatSidebarOpen",t?"true":"false")},SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},UPDATE_CONTEXT(e,t){e.context={...e.context,...t}},SET_CURRENT_SESSION(e,t){e.currentSession=t,localStorage.setItem("currentChatSession",JSON.stringify(t))},SET_SESSIONS(e,t){e.sessions=t},SET_SUGGESTIONS(e,t){e.suggestions=t},SET_USER_PREFERENCES(e,t){e.userPreferences=t,localStorage.setItem("chatUserPreferences",JSON.stringify(t))},UPDATE_USER_PREFERENCES(e,t){e.userPreferences={...e.userPreferences,...t},localStorage.setItem("chatUserPreferences",JSON.stringify(e.userPreferences))},SET_MESSAGE_FEEDBACK(e,{messageId:t,feedback:s}){e.messageFeedback={...e.messageFeedback,[t]:s}},SET_COMMAND_SHORTCUTS(e,t){e.commandShortcuts=t},ADD_COMMAND_SHORTCUT(e,t){e.commandShortcuts.push(t)},REMOVE_COMMAND_SHORTCUT(e,t){e.commandShortcuts=e.commandShortcuts.filter((e=>e.id!==t))},SET_RELEVANT_MEMORIES(e,t){e.relevantMemories=t},SET_WEBSOCKET_CONNECTED(e,t){e.websocketConnected=t},SET_TYPING_STATUS(e,{userId:t,isTyping:s,sessionId:a}){e.typingStatus={...e.typingStatus,[t]:{isTyping:s,sessionId:a,timestamp:(new Date).toISOString()}}},INIT_STREAMING_MESSAGE(e,{messageId:t,initialText:s}){e.streamingMessages={...e.streamingMessages,[t]:{text:s||"",isComplete:!1,chunks:[],startTime:(new Date).toISOString()}}},ADD_MESSAGE_CHUNK(e,{messageId:t,chunk:s,isLast:a}){e.streamingMessages[t]||(e.streamingMessages[t]={text:"",isComplete:!1,chunks:[],startTime:(new Date).toISOString()});const n=e.streamingMessages[t];if(n.chunks.push(s),n.text+=s,a){n.isComplete=!0,n.endTime=(new Date).toISOString();const s=e.messages.findIndex((e=>e.id===t));s>=0&&(e.messages[s].text=n.text)}},SET_MESSAGE_READ(e,{messageId:t,userId:s,timestamp:a}){e.messageReadStatus[t]||(e.messageReadStatus[t]=[]),e.messageReadStatus[t].some((e=>e.userId===s))||e.messageReadStatus[t].push({userId:s,timestamp:a})},SET_TASK_STATUS(e,{taskId:t,status:s,progress:a,message:n,data:o}){e.activeTasks={...e.activeTasks,[t]:{status:s,progress:a,message:n,data:o||{},updatedAt:(new Date).toISOString()}},"complete"!==s&&"failed"!==s||setTimeout((()=>{e.activeTasks=Object.entries(e.activeTasks).filter((([e])=>e!==t)).reduce(((e,[t,s])=>(e[t]=s,e)),{})}),3e4)}},actions:{init({commit:e,dispatch:t}){const s=localStorage.getItem("chatMessages");s&&e("SET_MESSAGES",JSON.parse(s));const a=localStorage.getItem("chatSidebarOpen");"true"===a&&e("SET_ACTIVE",!0);const n=localStorage.getItem("currentChatSession");if(n)try{const s=JSON.parse(n);e("SET_CURRENT_SESSION",s),t("loadSession",s.id)}catch(o){console.error("Error restoring chat session:",o)}t("loadSessions"),t("loadUserPreferences"),t("loadCommandShortcuts")},async loadSessions({commit:e}){try{const t=await l.A.get("/api/chat/sessions");e("SET_SESSIONS",t.data.sessions)}catch(t){console.error("Error loading chat sessions:",t)}},async loadSession({commit:e},t){try{const s=await l.A.get(`/api/chat/sessions/${t}`);e("SET_CURRENT_SESSION",s.data),e("SET_MESSAGES",s.data.messages)}catch(s){console.error(`Error loading chat session ${t}:`,s)}},async createSession({commit:e}){try{const t=await l.A.post("/api/chat/sessions",{title:`Chat ${(new Date).toLocaleDateString()}`});return e("SET_CURRENT_SESSION",t.data),e("SET_MESSAGES",t.data.messages),t.data}catch(t){throw console.error("Error creating chat session:",t),t}},async sendMessage({commit:e,state:t,dispatch:s},a){if(!t.currentSession)try{await s("createSession")}catch(o){return console.error("Failed to create a new chat session:",o),void e("SET_ERROR","Failed to start a new chat session.")}const n={type:"user",text:a,timestamp:(new Date).toISOString(),session_id:t.currentSession.id};e("ADD_MESSAGE",n),e("SET_LOADING",!0);try{const n={current_page:t.context.currentPage,current_container_id:t.context.currentContainerId,current_image_id:t.context.currentImageId},o=await l.A.post("/api/chat/messages",{text:a,session_id:t.currentSession.id,context:n}),i=o.data.message;e("ADD_MESSAGE",{id:i.id,type:i.type,text:i.text,timestamp:i.timestamp,session_id:i.session_id}),o.data.suggestions&&o.data.suggestions.length>0&&e("SET_SUGGESTIONS",o.data.suggestions),o.data.user_preferences&&e("SET_USER_PREFERENCES",o.data.user_preferences),o.data.command_shortcuts&&e("SET_COMMAND_SHORTCUTS",o.data.command_shortcuts),s("getRelevantMemories",a)}catch(o){console.error("Error sending message to API:",o),e("SET_ERROR","Failed to get a response. Please try again."),e("ADD_MESSAGE",{type:"system",text:"Sorry, I encountered an error while processing your message. The chat service might be unavailable.",timestamp:(new Date).toISOString()})}finally{e("SET_LOADING",!1)}},toggleChat({commit:e,state:t}){e("SET_ACTIVE",!t.isActive)},updateContext({commit:e},t){e("UPDATE_CONTEXT",t)},async clearChat({commit:e,dispatch:t}){e("CLEAR_MESSAGES"),e("SET_SUGGESTIONS",[]);try{await t("createSession")}catch(s){console.error("Failed to create a new chat session after clear:",s)}},async switchSession({commit:e,dispatch:t},s){try{await t("loadSession",s)}catch(a){console.error(`Error switching to session ${s}:`,a),e("SET_ERROR","Failed to switch chat sessions.")}},async deleteSession({commit:e,dispatch:t,state:s},a){try{await l.A.delete(`/api/chat/sessions/${a}`),s.currentSession&&s.currentSession.id===a&&await t("createSession"),t("loadSessions")}catch(n){console.error(`Error deleting session ${a}:`,n),e("SET_ERROR","Failed to delete chat session.")}},async loadUserPreferences({commit:e}){try{const t=localStorage.getItem("chatUserPreferences");t&&e("SET_USER_PREFERENCES",JSON.parse(t));const s=await l.A.get("/api/chat/preferences");e("SET_USER_PREFERENCES",s.data)}catch(t){console.error("Error loading user preferences:",t)}},async updateUserPreferences({commit:e},t){try{const s=await l.A.put("/api/chat/preferences",t);return e("SET_USER_PREFERENCES",s.data),s.data}catch(s){throw console.error("Error updating user preferences:",s),s}},async submitMessageFeedback({commit:e},{messageId:t,rating:s,feedbackText:a}){try{const n=await l.A.post("/api/chat/feedback",{message_id:t,rating:s,feedback_text:a});return e("SET_MESSAGE_FEEDBACK",{messageId:t,feedback:{id:n.data.id,rating:s,feedback_text:a,created_at:n.data.created_at}}),n.data}catch(n){throw console.error("Error submitting feedback:",n),n}},updateMessageFeedback({commit:e},{messageId:t,feedback:s}){e("SET_MESSAGE_FEEDBACK",{messageId:t,feedback:s})},async loadCommandShortcuts({commit:e}){try{const t=await l.A.get("/api/chat/shortcuts");e("SET_COMMAND_SHORTCUTS",t.data.shortcuts)}catch(t){console.error("Error loading command shortcuts:",t)}},async createCommandShortcut({commit:e},t){try{const s=await l.A.post("/api/chat/shortcuts",t);return e("ADD_COMMAND_SHORTCUT",s.data),s.data}catch(s){throw console.error("Error creating command shortcut:",s),s}},async deleteCommandShortcut({commit:e},t){try{await l.A.delete(`/api/chat/shortcuts/${t}`),e("REMOVE_COMMAND_SHORTCUT",t)}catch(s){throw console.error(`Error deleting shortcut ${t}:`,s),s}},async useCommandShortcut({commit:e},t){try{const e=await l.A.post("/api/chat/shortcuts/use",{command:t});return e.data.shortcut}catch(s){throw console.error("Error using command shortcut:",s),s}},async getRelevantMemories({commit:e,state:t},s){try{if(!s)return;const a=JSON.stringify({current_page:t.context.currentPage,current_container_id:t.context.currentContainerId,current_image_id:t.context.currentImageId}),n=await l.A.get("/api/chat/memory",{params:{query:s,context:a,limit:5}});e("SET_RELEVANT_MEMORIES",n.data)}catch(a){console.error("Error fetching relevant memories:",a)}},initWebSocket({commit:e,state:t,dispatch:s}){try{const s=t.currentSession?.user_id||"anonymous";De.init(s),t.currentSession&&De.subscribeToSession(t.currentSession.id),e("SET_WEBSOCKET_CONNECTED",!0)}catch(a){console.error("Error initializing WebSocket:",a),e("SET_WEBSOCKET_CONNECTED",!1)}},closeWebSocket({commit:e}){try{De.disconnect(),e("SET_WEBSOCKET_CONNECTED",!1)}catch(t){console.error("Error closing WebSocket:",t)}},subscribeToSession({state:e},t){e.websocketConnected&&De.subscribeToSession(t)},unsubscribeFromSession({state:e},t){e.websocketConnected&&De.unsubscribeFromSession(t)},setTypingStatus({state:e},{isTyping:t,sessionId:s}){e.websocketConnected&&s&&De.updateTypingStatus(t,s)},sendReadReceipt({state:e},{messageId:t,sessionId:s}){e.websocketConnected&&t&&s&&De.sendReadReceipt(t,s)},handleMessageChunk({commit:e,state:t},s){const{message_id:a,chunk:n,is_first:o,is_last:i}=s;o&&e("INIT_STREAMING_MESSAGE",{messageId:a,initialText:n}),e("ADD_MESSAGE_CHUNK",{messageId:a,chunk:n,isLast:i})},updateTaskStatus({commit:e},t){e("SET_TASK_STATUS",{taskId:t.task_id,status:t.status,progress:t.progress,message:t.message,data:t.data})}},getters:{messages:e=>e.messages,isActive:e=>e.isActive,isLoading:e=>e.loading,error:e=>e.error,context:e=>e.context,currentSession:e=>e.currentSession,sessions:e=>e.sessions,suggestions:e=>e.suggestions,userPreferences:e=>e.userPreferences,messageFeedback:e=>e.messageFeedback,getFeedbackForMessage:e=>t=>e.messageFeedback[t]||null,commandShortcuts:e=>e.commandShortcuts,relevantMemories:e=>e.relevantMemories,isWebSocketConnected:e=>e.websocketConnected,getTypingStatus:e=>(t,s)=>{const a=e.typingStatus[t];return!(!a||a.sessionId!==s)&&a.isTyping},getUsersTypingInSession:e=>t=>Object.entries(e.typingStatus).filter((([,e])=>e.isTyping&&e.sessionId===t)).map((([e])=>e)),getStreamingMessage:e=>t=>e.streamingMessages[t]||null,isMessageStreaming:e=>t=>{const s=e.streamingMessages[t];return s&&!s.isComplete},getMessageReadStatus:e=>t=>e.messageReadStatus[t]||[],activeTasks:e=>e.activeTasks,getTaskById:e=>t=>e.activeTasks[t]||null}};const xe={helpCenterOpen:!1,tourInProgress:!1,tourStep:0,tourCompleted:!1,lastViewedHelpCategory:"general",contextualHelpContent:{},userHelpPreferences:{showHelpTips:!0,showFeatureDiscovery:!0,enableContextualHelp:!0,showTourOnFirstVisit:!0}},Le={SET_HELP_CENTER_OPEN(e,t){e.helpCenterOpen=t},SET_TOUR_IN_PROGRESS(e,t){e.tourInProgress=t},SET_TOUR_STEP(e,t){e.tourStep=t},SET_TOUR_COMPLETED(e,t){e.tourCompleted=t},SET_LAST_VIEWED_HELP_CATEGORY(e,t){e.lastViewedHelpCategory=t},UPDATE_CONTEXTUAL_HELP_CONTENT(e,{context:t,content:s}){e.contextualHelpContent={...e.contextualHelpContent,[t]:s}},SET_USER_HELP_PREFERENCES(e,t){e.userHelpPreferences={...e.userHelpPreferences,...t}}},We={openHelpCenter({commit:e},t=null){t&&e("SET_LAST_VIEWED_HELP_CATEGORY",t),e("SET_HELP_CENTER_OPEN",!0)},closeHelpCenter({commit:e}){e("SET_HELP_CENTER_OPEN",!1)},startTour({commit:e}){e("SET_TOUR_IN_PROGRESS",!0),e("SET_TOUR_STEP",0)},endTour({commit:e},{completed:t=!1}={}){e("SET_TOUR_IN_PROGRESS",!1),t&&e("SET_TOUR_COMPLETED",!0)},setTourStep({commit:e},t){e("SET_TOUR_STEP",t)},async fetchContextualHelp({commit:e},t){try{await new Promise((e=>setTimeout(e,300)));const s={title:`${t.charAt(0).toUpperCase()+t.slice(1)} Help`,content:`Help content for ${t}`,tips:[`Tip 1 for ${t}`,`Tip 2 for ${t}`],actions:[]};return e("UPDATE_CONTEXTUAL_HELP_CONTENT",{context:t,content:s}),s}catch(s){return console.error("Error fetching contextual help:",s),null}},updateHelpPreferences({commit:e},t){e("SET_USER_HELP_PREFERENCES",t);try{localStorage.setItem("help_preferences",JSON.stringify(t))}catch(s){console.error("Failed to store help preferences:",s)}},loadHelpPreferences({commit:e}){try{const t=localStorage.getItem("help_preferences");t&&e("SET_USER_HELP_PREFERENCES",JSON.parse(t))}catch(t){console.error("Failed to load help preferences:",t)}}},Me={isHelpCenterOpen:e=>e.helpCenterOpen,isTourInProgress:e=>e.tourInProgress,currentTourStep:e=>e.tourStep,isTourCompleted:e=>e.tourCompleted,lastViewedHelpCategory:e=>e.lastViewedHelpCategory,userHelpPreferences:e=>e.userHelpPreferences,getContextualHelp:e=>t=>e.contextualHelpContent[t]||null,shouldShowTourOnFirstVisit:e=>e.userHelpPreferences.showTourOnFirstVisit&&!e.tourCompleted};var Pe={namespaced:!0,state:xe,mutations:Le,actions:We,getters:Me};const Ue={containers:[],currentContainer:null,loading:!1,error:null},Ve={getContainerById:e=>t=>e.containers.find((e=>e.id===t)),getContainerByName:e=>t=>e.containers.find((e=>e.name===t)),runningContainers:e=>e.containers.filter((e=>"running"===e.status)),stoppedContainers:e=>e.containers.filter((e=>"stopped"===e.status))},$e={async getContainers({commit:e},t={}){e("SET_LOADING",!0);try{const s=await l.A.get("/api/containers",{params:t});return e("SET_CONTAINERS",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async getContainer({commit:e},t){e("SET_LOADING",!0);try{const s=await l.A.get(`/api/containers/${t}`);return e("SET_CURRENT_CONTAINER",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async createContainer({commit:e},t){e("SET_LOADING",!0);try{const s=await l.A.post("/api/containers",t);return e("ADD_CONTAINER",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async updateContainer({commit:e},{id:t,containerData:s}){e("SET_LOADING",!0);try{const a=await l.A.put(`/api/containers/${t}`,s);return e("UPDATE_CONTAINER",a.data),a.data}catch(a){throw e("SET_ERROR",a.response?.data?.detail||a.message),a}finally{e("SET_LOADING",!1)}},async removeContainer({commit:e},t){e("SET_LOADING",!0);try{return await l.A.delete(`/api/containers/${t}`),e("REMOVE_CONTAINER",t),!0}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async startContainer({commit:e},t){e("SET_LOADING",!0);try{const s=await l.A.post(`/api/containers/${t}/start`);return e("UPDATE_CONTAINER",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async stopContainer({commit:e},t){e("SET_LOADING",!0);try{const s=await l.A.post(`/api/containers/${t}/stop`);return e("UPDATE_CONTAINER",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async restartContainer({commit:e},t){e("SET_LOADING",!0);try{const s=await l.A.post(`/api/containers/${t}/restart`);return e("UPDATE_CONTAINER",s.data),s.data}catch(s){throw e("SET_ERROR",s.response?.data?.detail||s.message),s}finally{e("SET_LOADING",!1)}},async getContainerLogs({commit:e},{id:t,tail:s=100}){e("SET_LOADING",!0);try{const e=await l.A.get(`/api/containers/${t}/logs`,{params:{tail:s}});return e.data}catch(a){throw e("SET_ERROR",a.response?.data?.detail||a.message),a}finally{e("SET_LOADING",!1)}},async getSystemInfo({commit:e}){e("SET_LOADING",!0);try{const e=await l.A.get("/api/containers/system/info");return e.data}catch(t){throw e("SET_ERROR",t.response?.data?.detail||t.message),t}finally{e("SET_LOADING",!1)}},clearCurrentContainer({commit:e}){e("SET_CURRENT_CONTAINER",null)},clearError({commit:e}){e("SET_ERROR",null)}},Ge={SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},SET_CONTAINERS(e,t){e.containers=t},SET_CURRENT_CONTAINER(e,t){e.currentContainer=t},ADD_CONTAINER(e,t){const s=e.containers.findIndex((e=>e.id===t.id));-1!==s?e.containers.splice(s,1,t):e.containers.push(t)},UPDATE_CONTAINER(e,t){const s=e.containers.findIndex((e=>e.id===t.id));-1!==s?e.containers.splice(s,1,t):e.containers.push(t),e.currentContainer&&e.currentContainer.id===t.id&&(e.currentContainer=t)},REMOVE_CONTAINER(e,t){e.containers=e.containers.filter((e=>e.id!==t)),e.currentContainer&&e.currentContainer.id===t&&(e.currentContainer=null)}};var He={namespaced:!0,state:Ue,getters:Ve,actions:$e,mutations:Ge};const Xe={namespaced:!0,state:{token:localStorage.getItem("token")||null,user:JSON.parse(localStorage.getItem("user"))||null,isAuthenticated:!!localStorage.getItem("token")},mutations:{SET_TOKEN(e,t){e.token=t,e.isAuthenticated=!!t,t?(localStorage.setItem("token",t),l.A.defaults.headers.common["Authorization"]=`Bearer ${t}`):(localStorage.removeItem("token"),delete l.A.defaults.headers.common["Authorization"])},SET_USER(e,t){e.user=t,t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")},SET_PASSWORD_CHANGED(e){e.user&&(e.user.password_change_required=!1,localStorage.setItem("user",JSON.stringify(e.user)))}},actions:{login({commit:e},{token:t,user:s}){e("SET_TOKEN",t),e("SET_USER",s)},async logout({commit:e}){try{await l.A.post("/api/auth/logout")}catch(t){console.error("Logout error:",t)}finally{e("SET_TOKEN",null),e("SET_USER",null)}},init({commit:e}){const t=localStorage.getItem("token");t&&(e("SET_TOKEN",t),l.A.defaults.headers.common["Authorization"]=`Bearer ${t}`);const s=localStorage.getItem("user");s&&e("SET_USER",JSON.parse(s))}},getters:{isAuthenticated:e=>e.isAuthenticated,user:e=>e.user,token:e=>e.token,passwordChangeRequired:e=>e.user?.password_change_required||!1}};var Be={modules:{auth:Xe,containers:He,images:Ie,chat:Ne,help:Pe},state:{appName:"DockerForge",version:"0.1.0",loading:!1,error:null,darkMode:"false"!==localStorage.getItem("darkMode")},mutations:{SET_LOADING(e,t){e.loading=t},SET_ERROR(e,t){e.error=t},SET_DARK_MODE(e,t){e.darkMode=t,localStorage.setItem("darkMode",t)}},actions:{toggleDarkMode({commit:e,state:t}){e("SET_DARK_MODE",!t.darkMode)}},getters:{appName:e=>e.appName,version:e=>e.version,isLoading:e=>e.loading,error:e=>e.error,darkMode:e=>e.darkMode}};l.A.defaults.baseURL="/api",l.A.defaults.headers.common["Content-Type"]="application/json",l.A.defaults.headers.common["Accept"]="application/json";const qe=localStorage.getItem("token");qe&&(l.A.defaults.headers.common["Authorization"]=`Bearer ${qe}`);const Ke=(0,i.$N)({components:r,directives:c,theme:{defaultTheme:"dark",themes:{light:{dark:!1,colors:{primary:"#007BFF",secondary:"#6C757D",accent:"#17A2B8",error:"#DC3545",warning:"#FFC107",info:"#17A2B8",success:"#28A745"}},dark:{dark:!0,colors:{primary:"#0D6EFD",secondary:"#6C757D",accent:"#0DCAF0",error:"#DC3545",warning:"#FFC107",info:"#0DCAF0",success:"#198754"}}}}}),je=(0,n.y$)(Be),Je=(0,o.aE)({history:(0,o.LA)(),routes:ye});l.A.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&(je.dispatch("auth/logout"),Je.push("/login")),Promise.reject(e))));const Qe=(0,a.Ef)(pe);Qe.use(Je),Qe.use(je),Qe.use(Ke),Qe.mount("#app")}},t={};function s(a){var n=t[a];if(void 0!==n)return n.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,a,n,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],o=e[d][2];for(var r=!0,c=0;c<a.length;c++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](a[c])}))?a.splice(c--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,n,o]}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,a){return s.f[a](e,t),t}),[]))}}(),function(){s.u=function(e){return"js/"+e+"."+{0:"abd1d798",97:"8c379828",248:"a9cafb05",249:"1126387c",339:"c99e805a",349:"e03e5bfd",433:"10b52574",441:"126ccf71",526:"1b21ab82",577:"520dcb32",644:"ec8d2530",667:"a4dcea0d",718:"687eeac9",722:"050d9baf",814:"dc7d00e9",869:"e847f762",949:"908fc2b6",967:"f0f37484",978:"880d5e06"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"css/"+e+"."+{0:"3110dcc8",97:"8bbc8690",248:"f66e6d3d",249:"effa1b67",339:"07598704",433:"ce901618",441:"f3f0d024",577:"7e9c4009",644:"16a908b4",718:"d08d06ea",722:"ddaf6398",814:"12dd9990",949:"540b0690",967:"a58fae71",978:"17248812"}[e]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="dockerforge-web-ui:";s.l=function(a,n,o,i){if(e[a])e[a].push(n);else{var r,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),d=0;d<l.length;d++){var u=l[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+o){r=u;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,s.nc&&r.setAttribute("nonce",s.nc),r.setAttribute("data-webpack",t+o),r.src=a),e[a]=[n];var m=function(t,s){r.onerror=r.onload=null,clearTimeout(h);var n=e[a];if(delete e[a],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(s)})),t)return t(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,a,n,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",s.nc&&(i.nonce=s.nc);var r=function(s){if(i.onerror=i.onload=null,"load"===s.type)n();else{var a=s&&s.type,r=s&&s.target&&s.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+": "+r+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=r,i.parentNode&&i.parentNode.removeChild(i),o(c)}};return i.onerror=i.onload=r,i.href=t,a?a.parentNode.insertBefore(i,a.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var n=s[a],o=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(o===e||o===t))return n}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){n=i[a],o=n.getAttribute("data-href");if(o===e||o===t)return n}},a=function(a){return new Promise((function(n,o){var i=s.miniCssF(a),r=s.p+i;if(t(i,r))return n();e(a,r,null,n,o)}))},n={524:0};s.f.miniCss=function(e,t){var s={0:1,97:1,248:1,249:1,339:1,433:1,441:1,577:1,644:1,718:1,722:1,814:1,949:1,967:1,978:1};n[e]?t.push(n[e]):0!==n[e]&&s[e]&&t.push(n[e]=a(e).then((function(){n[e]=0}),(function(t){throw delete n[e],t})))}}}(),function(){var e={524:0};s.f.j=function(t,a){var n=s.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var o=new Promise((function(s,a){n=e[t]=[s,a]}));a.push(n[2]=o);var i=s.p+s.u(t),r=new Error,c=function(a){if(s.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;r.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",r.name="ChunkLoadError",r.type=o,r.request=i,n[1](r)}};s.l(i,c,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,i=a[0],r=a[1],c=a[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(c)var d=c(s)}for(t&&t(a);l<i.length;l++)o=i[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},a=self["webpackChunkdockerforge_web_ui"]=self["webpackChunkdockerforge_web_ui"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(4663)}));a=s.O(a)})();
//# sourceMappingURL=app.7c3c3592.js.map