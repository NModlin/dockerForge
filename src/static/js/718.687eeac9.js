"use strict";(self["webpackChunkdockerforge_web_ui"]=self["webpackChunkdockerforge_web_ui"]||[]).push([[718],{7718:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var r=a(641),n=a(33);const l={class:"container-list"},s={key:0,class:"d-flex justify-center align-center my-5"},o={class:"text-body-1 mt-2"},i={key:1};function c(e,t,a,c,d,u){const h=(0,r.g2)("v-text-field"),m=(0,r.g2)("v-col"),f=(0,r.g2)("v-select"),g=(0,r.g2)("v-icon"),k=(0,r.g2)("v-btn"),b=(0,r.g2)("v-row"),p=(0,r.g2)("v-card-text"),C=(0,r.g2)("v-card"),_=(0,r.g2)("v-progress-circular"),v=(0,r.g2)("v-alert"),y=(0,r.g2)("router-link"),F=(0,r.g2)("v-chip"),x=(0,r.g2)("v-data-table"),w=(0,r.g2)("v-card-title"),W=(0,r.g2)("v-spacer"),D=(0,r.g2)("v-card-actions"),$=(0,r.g2)("v-dialog");return(0,r.uX)(),(0,r.CE)("div",l,[t[19]||(t[19]=(0,r.Lk)("h1",{class:"text-h4 mb-4"},"Containers",-1)),(0,r.bF)(C,{class:"mb-4"},{default:(0,r.k6)((()=>[(0,r.bF)(p,null,{default:(0,r.k6)((()=>[(0,r.bF)(b,null,{default:(0,r.k6)((()=>[(0,r.bF)(m,{cols:"12",sm:"4"},{default:(0,r.k6)((()=>[(0,r.bF)(h,{modelValue:d.filters.name,"onUpdate:modelValue":t[0]||(t[0]=e=>d.filters.name=e),label:"Filter by name","prepend-icon":"mdi-magnify",clearable:"",onInput:u.applyFilters},null,8,["modelValue","onInput"])])),_:1}),(0,r.bF)(m,{cols:"12",sm:"4"},{default:(0,r.k6)((()=>[(0,r.bF)(f,{modelValue:d.filters.status,"onUpdate:modelValue":t[1]||(t[1]=e=>d.filters.status=e),items:d.statusOptions,label:"Filter by status","prepend-icon":"mdi-filter",clearable:"",onChange:u.applyFilters},null,8,["modelValue","items","onChange"])])),_:1}),(0,r.bF)(m,{cols:"12",sm:"4",class:"d-flex align-center justify-end"},{default:(0,r.k6)((()=>[(0,r.bF)(k,{color:"primary",to:"/containers/create"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{left:""},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("mdi-plus")]))),_:1}),t[5]||(t[5]=(0,r.eW)(" New Container "))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),d.loading?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.bF)(_,{indeterminate:"",color:"primary"})])):d.error?((0,r.uX)(),(0,r.Wv)(v,{key:1,type:"error",class:"mb-4"},{default:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(d.error),1)])),_:1})):0===d.containers.length?((0,r.uX)(),(0,r.Wv)(C,{key:2,class:"mb-4 text-center pa-5"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{size:"64",color:"grey lighten-1"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("mdi-docker")]))),_:1}),t[9]||(t[9]=(0,r.Lk)("h3",{class:"text-h5 mt-4"},"No containers found",-1)),(0,r.Lk)("p",o,(0,n.v_)(d.filters.name||d.filters.status?"Try adjusting your filters":"Create your first container to get started"),1),(0,r.bF)(k,{color:"primary",class:"mt-4",to:"/containers/create"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{left:""},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)("mdi-plus")]))),_:1}),t[8]||(t[8]=(0,r.eW)(" New Container "))])),_:1})])),_:1})):((0,r.uX)(),(0,r.Wv)(C,{key:3},{default:(0,r.k6)((()=>[(0,r.bF)(x,{headers:d.headers,items:d.containers,"items-per-page":10,"footer-props":{"items-per-page-options":[5,10,15,20]},class:"elevation-1"},{"item.name":(0,r.k6)((({item:e})=>[(0,r.bF)(y,{to:`/containers/${e.id}`,class:"text-decoration-none"},{default:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(e.name),1)])),_:2},1032,["to"])])),"item.status":(0,r.k6)((({item:e})=>[(0,r.bF)(F,{color:u.getStatusColor(e.status),"text-color":"white",small:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(e.status),1)])),_:2},1032,["color"])])),"item.health_status":(0,r.k6)((({item:e})=>[e.health_status?((0,r.uX)(),(0,r.Wv)(F,{key:0,color:u.getHealthColor(e.health_status),"text-color":"white",small:""},{default:(0,r.k6)((()=>[(0,r.eW)((0,n.v_)(e.health_status),1)])),_:2},1032,["color"])):((0,r.uX)(),(0,r.CE)("span",i,"-"))])),"item.created_at":(0,r.k6)((({item:e})=>[(0,r.eW)((0,n.v_)(u.formatDate(e.created_at)),1)])),"item.actions":(0,r.k6)((({item:e})=>[(0,r.bF)(k,{icon:"",small:"",disabled:"running"===e.status,onClick:t=>u.startContainer(e),title:"Start"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{small:""},{default:(0,r.k6)((()=>t[10]||(t[10]=[(0,r.eW)("mdi-play")]))),_:1})])),_:2},1032,["disabled","onClick"]),(0,r.bF)(k,{icon:"",small:"",disabled:"running"!==e.status,onClick:t=>u.stopContainer(e),title:"Stop"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{small:""},{default:(0,r.k6)((()=>t[11]||(t[11]=[(0,r.eW)("mdi-stop")]))),_:1})])),_:2},1032,["disabled","onClick"]),(0,r.bF)(k,{icon:"",small:"",disabled:"running"!==e.status,onClick:t=>u.restartContainer(e),title:"Restart"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{small:""},{default:(0,r.k6)((()=>t[12]||(t[12]=[(0,r.eW)("mdi-restart")]))),_:1})])),_:2},1032,["disabled","onClick"]),(0,r.bF)(k,{icon:"",small:"",onClick:t=>u.showDeleteDialog(e),title:"Delete"},{default:(0,r.k6)((()=>[(0,r.bF)(g,{small:""},{default:(0,r.k6)((()=>t[13]||(t[13]=[(0,r.eW)("mdi-delete")]))),_:1})])),_:2},1032,["onClick"])])),_:1},8,["headers","items"])])),_:1})),(0,r.bF)($,{modelValue:d.deleteDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>d.deleteDialog=e),"max-width":"500"},{default:(0,r.k6)((()=>[(0,r.bF)(C,null,{default:(0,r.k6)((()=>[(0,r.bF)(w,{class:"headline"},{default:(0,r.k6)((()=>t[14]||(t[14]=[(0,r.eW)("Delete Container")]))),_:1}),(0,r.bF)(p,null,{default:(0,r.k6)((()=>[t[15]||(t[15]=(0,r.eW)(" Are you sure you want to delete the container ")),(0,r.Lk)("strong",null,(0,n.v_)(d.selectedContainer?.name),1),t[16]||(t[16]=(0,r.eW)("? This action cannot be undone. "))])),_:1}),(0,r.bF)(D,null,{default:(0,r.k6)((()=>[(0,r.bF)(W),(0,r.bF)(k,{color:"grey darken-1",text:"",onClick:t[2]||(t[2]=e=>d.deleteDialog=!1)},{default:(0,r.k6)((()=>t[17]||(t[17]=[(0,r.eW)(" Cancel ")]))),_:1}),(0,r.bF)(k,{color:"red darken-1",text:"",onClick:u.deleteContainer},{default:(0,r.k6)((()=>t[18]||(t[18]=[(0,r.eW)(" Delete ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var d=a(2977),u={name:"ContainerList",data(){return{loading:!0,error:null,containers:[],filters:{name:"",status:""},statusOptions:[{text:"All",value:""},{text:"Running",value:"running"},{text:"Stopped",value:"stopped"},{text:"Created",value:"created"},{text:"Paused",value:"paused"}],headers:[{text:"Name",value:"name",sortable:!0},{text:"Image",value:"image",sortable:!0},{text:"Status",value:"status",sortable:!0},{text:"Health",value:"health_status",sortable:!0},{text:"Created",value:"created_at",sortable:!0},{text:"Actions",value:"actions",sortable:!1,align:"center"}],deleteDialog:!1,selectedContainer:null}},computed:{...(0,d.L8)({isAuthenticated:"auth/isAuthenticated",token:"auth/token"})},created(){this.fetchContainers()},methods:{async fetchContainers(){this.loading=!0,this.error=null;try{const e=await this.$store.dispatch("containers/getContainers",this.filters);this.containers=e}catch(e){this.error="Failed to load containers. Please try again.",console.error("Error fetching containers:",e)}finally{this.loading=!1}},applyFilters(){this.fetchContainers()},getStatusColor(e){switch(e){case"running":return"success";case"stopped":return"error";case"paused":return"warning";case"created":return"info";default:return"grey"}},getHealthColor(e){switch(e){case"healthy":return"success";case"unhealthy":return"error";case"starting":return"warning";default:return"grey"}},formatDate(e){const t=new Date(e);return t.toLocaleString()},async startContainer(e){try{this.error=null,await this.$store.dispatch("containers/startContainer",e.id),this.fetchContainers()}catch(t){this.error=`Failed to start container ${e.name}`,console.error("Error starting container:",t)}},async stopContainer(e){try{this.error=null,await this.$store.dispatch("containers/stopContainer",e.id),this.fetchContainers()}catch(t){this.error=`Failed to stop container ${e.name}`,console.error("Error stopping container:",t)}},async restartContainer(e){try{this.error=null,await this.$store.dispatch("containers/restartContainer",e.id),this.fetchContainers()}catch(t){this.error=`Failed to restart container ${e.name}`,console.error("Error restarting container:",t)}},showDeleteDialog(e){this.selectedContainer=e,this.deleteDialog=!0},async deleteContainer(){if(this.selectedContainer)try{this.error=null,await this.$store.dispatch("containers/removeContainer",this.selectedContainer.id),this.deleteDialog=!1,this.selectedContainer=null,this.fetchContainers()}catch(e){this.error=`Failed to delete container ${this.selectedContainer.name}`,console.error("Error deleting container:",e),this.deleteDialog=!1}}}},h=a(6262);const m=(0,h.A)(u,[["render",c],["__scopeId","data-v-7c206289"]]);var f=m}}]);
//# sourceMappingURL=718.687eeac9.js.map