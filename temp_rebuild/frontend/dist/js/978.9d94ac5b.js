"use strict";(self["webpackChunkdockerforge_web_ui"]=self["webpackChunkdockerforge_web_ui"]||[]).push([[978],{8978:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var a=l(641),o=l(33);const s={class:"volume-list"},i={key:0,class:"d-flex justify-center align-center my-5"},r={class:"text-body-1 mt-2"};function d(e,t,l,d,u,n){const c=(0,a.g2)("v-text-field"),m=(0,a.g2)("v-col"),v=(0,a.g2)("v-icon"),f=(0,a.g2)("v-btn"),g=(0,a.g2)("v-row"),k=(0,a.g2)("v-card-text"),_=(0,a.g2)("v-card"),b=(0,a.g2)("v-progress-circular"),h=(0,a.g2)("v-alert"),p=(0,a.g2)("router-link"),y=(0,a.g2)("v-data-table"),F=(0,a.g2)("v-card-title"),V=(0,a.g2)("v-spacer"),x=(0,a.g2)("v-card-actions"),D=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.CE)("div",s,[t[15]||(t[15]=(0,a.Lk)("h1",{class:"text-h4 mb-4"},"Volumes",-1)),(0,a.bF)(_,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(m,{cols:"12",sm:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(c,{modelValue:u.filters.name,"onUpdate:modelValue":t[0]||(t[0]=e=>u.filters.name=e),label:"Filter by name","prepend-icon":"mdi-magnify",clearable:"",onInput:n.applyFilters},null,8,["modelValue","onInput"])])),_:1}),(0,a.bF)(m,{cols:"12",sm:"6",class:"d-flex align-center justify-end"},{default:(0,a.k6)((()=>[(0,a.bF)(f,{color:"primary",to:"/volumes/create"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{left:""},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("mdi-plus")]))),_:1}),t[4]||(t[4]=(0,a.eW)(" New Volume "))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),u.loading?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(b,{indeterminate:"",color:"primary"})])):u.error?((0,a.uX)(),(0,a.Wv)(h,{key:1,type:"error",class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(u.error),1)])),_:1})):0===u.volumes.length?((0,a.uX)(),(0,a.Wv)(_,{key:2,class:"mb-4 text-center pa-5"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{size:"64",color:"grey lighten-1"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("mdi-database")]))),_:1}),t[8]||(t[8]=(0,a.Lk)("h3",{class:"text-h5 mt-4"},"No volumes found",-1)),(0,a.Lk)("p",r,(0,o.v_)(u.filters.name?"Try adjusting your filters":"Create your first volume to get started"),1),(0,a.bF)(f,{color:"primary",class:"mt-4",to:"/volumes/create"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{left:""},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("mdi-plus")]))),_:1}),t[7]||(t[7]=(0,a.eW)(" New Volume "))])),_:1})])),_:1})):((0,a.uX)(),(0,a.Wv)(_,{key:3},{default:(0,a.k6)((()=>[(0,a.bF)(y,{headers:u.headers,items:u.volumes,"items-per-page":10,"footer-props":{"items-per-page-options":[5,10,15,20]},class:"elevation-1"},{"item.name":(0,a.k6)((({item:e})=>[(0,a.bF)(p,{to:`/volumes/${e.id}`,class:"text-decoration-none"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.name),1)])),_:2},1032,["to"])])),"item.created_at":(0,a.k6)((({item:e})=>[(0,a.eW)((0,o.v_)(n.formatDate(e.created_at)),1)])),"item.actions":(0,a.k6)((({item:e})=>[(0,a.bF)(f,{icon:"",small:"",onClick:t=>n.showDeleteDialog(e),title:"Delete"},{default:(0,a.k6)((()=>[(0,a.bF)(v,{small:""},{default:(0,a.k6)((()=>t[9]||(t[9]=[(0,a.eW)("mdi-delete")]))),_:1})])),_:2},1032,["onClick"])])),_:1},8,["headers","items"])])),_:1})),(0,a.bF)(D,{modelValue:u.deleteDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>u.deleteDialog=e),"max-width":"500"},{default:(0,a.k6)((()=>[(0,a.bF)(_,null,{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"headline"},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)("Delete Volume")]))),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[t[11]||(t[11]=(0,a.eW)(" Are you sure you want to delete the volume ")),(0,a.Lk)("strong",null,(0,o.v_)(u.selectedVolume?.name),1),t[12]||(t[12]=(0,a.eW)("? This action cannot be undone and may result in data loss. "))])),_:1}),(0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.bF)(V),(0,a.bF)(f,{color:"grey darken-1",text:"",onClick:t[1]||(t[1]=e=>u.deleteDialog=!1)},{default:(0,a.k6)((()=>t[13]||(t[13]=[(0,a.eW)(" Cancel ")]))),_:1}),(0,a.bF)(f,{color:"red darken-1",text:"",onClick:n.deleteVolume},{default:(0,a.k6)((()=>t[14]||(t[14]=[(0,a.eW)(" Delete ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var u=l(2977),n={name:"VolumeList",data(){return{loading:!0,error:null,volumes:[],filters:{name:""},headers:[{text:"Name",value:"name",sortable:!0},{text:"Driver",value:"driver",sortable:!0},{text:"Mount Point",value:"mountpoint",sortable:!1},{text:"Size",value:"size",sortable:!0},{text:"Created",value:"created_at",sortable:!0},{text:"Actions",value:"actions",sortable:!1,align:"center"}],deleteDialog:!1,selectedVolume:null}},computed:{...(0,u.L8)({isAuthenticated:"auth/isAuthenticated",token:"auth/token"})},created(){this.fetchVolumes()},methods:{async fetchVolumes(){this.loading=!0,this.error=null;try{setTimeout((()=>{this.volumes=[{id:"v1",name:"postgres_data",driver:"local",mountpoint:"/var/lib/docker/volumes/postgres_data/_data",size:"1.2 GB",created_at:"2025-03-15T10:00:00Z"},{id:"v2",name:"redis_data",driver:"local",mountpoint:"/var/lib/docker/volumes/redis_data/_data",size:"256 MB",created_at:"2025-03-15T09:00:00Z"},{id:"v3",name:"nginx_config",driver:"local",mountpoint:"/var/lib/docker/volumes/nginx_config/_data",size:"4 MB",created_at:"2025-03-15T08:00:00Z"}],this.loading=!1}),1e3)}catch(e){this.error="Failed to load volumes. Please try again.",this.loading=!1}},applyFilters(){this.fetchVolumes()},formatDate(e){const t=new Date(e);return t.toLocaleString()},showDeleteDialog(e){this.selectedVolume=e,this.deleteDialog=!0},async deleteVolume(){if(this.selectedVolume)try{this.volumes=this.volumes.filter((e=>e.id!==this.selectedVolume.id)),this.deleteDialog=!1,this.selectedVolume=null}catch(e){this.error=`Failed to delete volume ${this.selectedVolume.name}`,this.deleteDialog=!1}}}},c=l(6262);const m=(0,c.A)(n,[["render",d],["__scopeId","data-v-7aef9212"]]);var v=m}}]);