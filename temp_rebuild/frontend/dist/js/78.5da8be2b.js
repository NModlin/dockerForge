"use strict";(self["webpackChunkdockerforge_web_ui"]=self["webpackChunkdockerforge_web_ui"]||[]).push([[78],{78:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var l=a(641),s=a(33);const n={class:"container-list"},r={key:0,class:"d-flex justify-center align-center my-5"},i={class:"text-body-1 mt-2"},o={key:1};function d(e,t,a,d,u,c){const h=(0,l.g2)("v-text-field"),m=(0,l.g2)("v-col"),g=(0,l.g2)("v-select"),f=(0,l.g2)("v-icon"),k=(0,l.g2)("v-btn"),p=(0,l.g2)("v-row"),b=(0,l.g2)("v-card-text"),_=(0,l.g2)("v-card"),C=(0,l.g2)("v-progress-circular"),v=(0,l.g2)("v-alert"),y=(0,l.g2)("router-link"),F=(0,l.g2)("v-chip"),x=(0,l.g2)("v-data-table"),W=(0,l.g2)("v-card-title"),w=(0,l.g2)("v-spacer"),D=(0,l.g2)("v-card-actions"),V=(0,l.g2)("v-dialog");return(0,l.uX)(),(0,l.CE)("div",n,[t[19]||(t[19]=(0,l.Lk)("h1",{class:"text-h4 mb-4"},"Containers",-1)),(0,l.bF)(_,{class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,{cols:"12",sm:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:u.filters.name,"onUpdate:modelValue":t[0]||(t[0]=e=>u.filters.name=e),label:"Filter by name","prepend-icon":"mdi-magnify",clearable:"",onInput:c.applyFilters},null,8,["modelValue","onInput"])])),_:1}),(0,l.bF)(m,{cols:"12",sm:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:u.filters.status,"onUpdate:modelValue":t[1]||(t[1]=e=>u.filters.status=e),items:u.statusOptions,label:"Filter by status","prepend-icon":"mdi-filter",clearable:"",onChange:c.applyFilters},null,8,["modelValue","items","onChange"])])),_:1}),(0,l.bF)(m,{cols:"12",sm:"4",class:"d-flex align-center justify-end"},{default:(0,l.k6)((()=>[(0,l.bF)(k,{color:"primary",to:"/containers/create"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{left:""},{default:(0,l.k6)((()=>t[4]||(t[4]=[(0,l.eW)("mdi-plus")]))),_:1}),t[5]||(t[5]=(0,l.eW)(" New Container "))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),u.loading?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.bF)(C,{indeterminate:"",color:"primary"})])):u.error?((0,l.uX)(),(0,l.Wv)(v,{key:1,type:"error",class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(u.error),1)])),_:1})):0===u.containers.length?((0,l.uX)(),(0,l.Wv)(_,{key:2,class:"mb-4 text-center pa-5"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{size:"64",color:"grey lighten-1"},{default:(0,l.k6)((()=>t[6]||(t[6]=[(0,l.eW)("mdi-docker")]))),_:1}),t[9]||(t[9]=(0,l.Lk)("h3",{class:"text-h5 mt-4"},"No containers found",-1)),(0,l.Lk)("p",i,(0,s.v_)(u.filters.name||u.filters.status?"Try adjusting your filters":"Create your first container to get started"),1),(0,l.bF)(k,{color:"primary",class:"mt-4",to:"/containers/create"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{left:""},{default:(0,l.k6)((()=>t[7]||(t[7]=[(0,l.eW)("mdi-plus")]))),_:1}),t[8]||(t[8]=(0,l.eW)(" New Container "))])),_:1})])),_:1})):((0,l.uX)(),(0,l.Wv)(_,{key:3},{default:(0,l.k6)((()=>[(0,l.bF)(x,{headers:u.headers,items:u.containers,"items-per-page":10,"footer-props":{"items-per-page-options":[5,10,15,20]},class:"elevation-1"},{"item.name":(0,l.k6)((({item:e})=>[(0,l.bF)(y,{to:`/containers/${e.id}`,class:"text-decoration-none"},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.name),1)])),_:2},1032,["to"])])),"item.status":(0,l.k6)((({item:e})=>[(0,l.bF)(F,{color:c.getStatusColor(e.status),"text-color":"white",small:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.status),1)])),_:2},1032,["color"])])),"item.health_status":(0,l.k6)((({item:e})=>[e.health_status?((0,l.uX)(),(0,l.Wv)(F,{key:0,color:c.getHealthColor(e.health_status),"text-color":"white",small:""},{default:(0,l.k6)((()=>[(0,l.eW)((0,s.v_)(e.health_status),1)])),_:2},1032,["color"])):((0,l.uX)(),(0,l.CE)("span",o,"-"))])),"item.created_at":(0,l.k6)((({item:e})=>[(0,l.eW)((0,s.v_)(c.formatDate(e.created_at)),1)])),"item.actions":(0,l.k6)((({item:e})=>[(0,l.bF)(k,{icon:"",small:"",disabled:"running"===e.status,onClick:t=>c.startContainer(e),title:"Start"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{small:""},{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)("mdi-play")]))),_:1})])),_:2},1032,["disabled","onClick"]),(0,l.bF)(k,{icon:"",small:"",disabled:"running"!==e.status,onClick:t=>c.stopContainer(e),title:"Stop"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{small:""},{default:(0,l.k6)((()=>t[11]||(t[11]=[(0,l.eW)("mdi-stop")]))),_:1})])),_:2},1032,["disabled","onClick"]),(0,l.bF)(k,{icon:"",small:"",disabled:"running"!==e.status,onClick:t=>c.restartContainer(e),title:"Restart"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{small:""},{default:(0,l.k6)((()=>t[12]||(t[12]=[(0,l.eW)("mdi-restart")]))),_:1})])),_:2},1032,["disabled","onClick"]),(0,l.bF)(k,{icon:"",small:"",onClick:t=>c.showDeleteDialog(e),title:"Delete"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{small:""},{default:(0,l.k6)((()=>t[13]||(t[13]=[(0,l.eW)("mdi-delete")]))),_:1})])),_:2},1032,["onClick"])])),_:1},8,["headers","items"])])),_:1})),(0,l.bF)(V,{modelValue:u.deleteDialog,"onUpdate:modelValue":t[3]||(t[3]=e=>u.deleteDialog=e),"max-width":"500"},{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.bF)(W,{class:"headline"},{default:(0,l.k6)((()=>t[14]||(t[14]=[(0,l.eW)("Delete Container")]))),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[t[15]||(t[15]=(0,l.eW)(" Are you sure you want to delete the container ")),(0,l.Lk)("strong",null,(0,s.v_)(u.selectedContainer?.name),1),t[16]||(t[16]=(0,l.eW)("? This action cannot be undone. "))])),_:1}),(0,l.bF)(D,null,{default:(0,l.k6)((()=>[(0,l.bF)(w),(0,l.bF)(k,{color:"grey darken-1",text:"",onClick:t[2]||(t[2]=e=>u.deleteDialog=!1)},{default:(0,l.k6)((()=>t[17]||(t[17]=[(0,l.eW)(" Cancel ")]))),_:1}),(0,l.bF)(k,{color:"red darken-1",text:"",onClick:c.deleteContainer},{default:(0,l.k6)((()=>t[18]||(t[18]=[(0,l.eW)(" Delete ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var u=a(2977),c={name:"ContainerList",data(){return{loading:!0,error:null,containers:[],filters:{name:"",status:""},statusOptions:[{text:"All",value:""},{text:"Running",value:"running"},{text:"Stopped",value:"stopped"},{text:"Created",value:"created"},{text:"Paused",value:"paused"}],headers:[{text:"Name",value:"name",sortable:!0},{text:"Image",value:"image",sortable:!0},{text:"Status",value:"status",sortable:!0},{text:"Health",value:"health_status",sortable:!0},{text:"Created",value:"created_at",sortable:!0},{text:"Actions",value:"actions",sortable:!1,align:"center"}],deleteDialog:!1,selectedContainer:null}},computed:{...(0,u.L8)({isAuthenticated:"auth/isAuthenticated",token:"auth/token"})},created(){this.fetchContainers()},methods:{async fetchContainers(){this.loading=!0,this.error=null;try{setTimeout((()=>{this.containers=[{id:"c1",name:"nginx",image:"nginx:latest",status:"running",created_at:"2025-03-16T10:00:00Z",health_status:"healthy"},{id:"c2",name:"redis",image:"redis:alpine",status:"running",created_at:"2025-03-16T09:00:00Z",health_status:"healthy"},{id:"c3",name:"postgres",image:"postgres:13",status:"stopped",created_at:"2025-03-16T08:00:00Z",health_status:null}],this.loading=!1}),1e3)}catch(e){this.error="Failed to load containers. Please try again.",this.loading=!1}},applyFilters(){this.fetchContainers()},getStatusColor(e){switch(e){case"running":return"success";case"stopped":return"error";case"paused":return"warning";case"created":return"info";default:return"grey"}},getHealthColor(e){switch(e){case"healthy":return"success";case"unhealthy":return"error";case"starting":return"warning";default:return"grey"}},formatDate(e){const t=new Date(e);return t.toLocaleString()},async startContainer(e){try{e.status="running",this.$forceUpdate()}catch(t){this.error=`Failed to start container ${e.name}`}},async stopContainer(e){try{e.status="stopped",this.$forceUpdate()}catch(t){this.error=`Failed to stop container ${e.name}`}},async restartContainer(e){try{e.status="running",this.$forceUpdate()}catch(t){this.error=`Failed to restart container ${e.name}`}},showDeleteDialog(e){this.selectedContainer=e,this.deleteDialog=!0},async deleteContainer(){if(this.selectedContainer)try{this.containers=this.containers.filter((e=>e.id!==this.selectedContainer.id)),this.deleteDialog=!1,this.selectedContainer=null}catch(e){this.error=`Failed to delete container ${this.selectedContainer.name}`,this.deleteDialog=!1}}}},h=a(6262);const m=(0,h.A)(c,[["render",d],["__scopeId","data-v-6e422dba"]]);var g=m}}]);