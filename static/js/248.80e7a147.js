"use strict";(self["webpackChunkdockerforge_web_ui"]=self["webpackChunkdockerforge_web_ui"]||[]).push([[248],{248:function(e,t,l){l.r(t),l.d(t,{default:function(){return m}});var a=l(641),r=l(33);const o={class:"network-list"},s={key:0,class:"d-flex justify-center align-center my-5"},n={class:"text-body-1 mt-2"};function i(e,t,l,i,d,c){const u=(0,a.g2)("v-text-field"),k=(0,a.g2)("v-col"),m=(0,a.g2)("v-icon"),b=(0,a.g2)("v-btn"),g=(0,a.g2)("v-row"),f=(0,a.g2)("v-card-text"),h=(0,a.g2)("v-card"),w=(0,a.g2)("v-progress-circular"),p=(0,a.g2)("v-alert"),_=(0,a.g2)("router-link"),v=(0,a.g2)("v-chip"),y=(0,a.g2)("v-data-table"),F=(0,a.g2)("v-card-title"),N=(0,a.g2)("v-spacer"),x=(0,a.g2)("v-card-actions"),D=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.CE)("div",o,[t[15]||(t[15]=(0,a.Lk)("h1",{class:"text-h4 mb-4"},"Networks",-1)),(0,a.bF)(h,{class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.bF)(f,null,{default:(0,a.k6)((()=>[(0,a.bF)(g,null,{default:(0,a.k6)((()=>[(0,a.bF)(k,{cols:"12",sm:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{modelValue:d.filters.name,"onUpdate:modelValue":t[0]||(t[0]=e=>d.filters.name=e),label:"Filter by name","prepend-icon":"mdi-magnify",clearable:"",onInput:c.applyFilters},null,8,["modelValue","onInput"])])),_:1}),(0,a.bF)(k,{cols:"12",sm:"6",class:"d-flex align-center justify-end"},{default:(0,a.k6)((()=>[(0,a.bF)(b,{color:"primary",to:"/networks/create"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{left:""},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("mdi-plus")]))),_:1}),t[4]||(t[4]=(0,a.eW)(" New Network "))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),d.loading?((0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(w,{indeterminate:"",color:"primary"})])):d.error?((0,a.uX)(),(0,a.Wv)(p,{key:1,type:"error",class:"mb-4"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(d.error),1)])),_:1})):0===d.networks.length?((0,a.uX)(),(0,a.Wv)(h,{key:2,class:"mb-4 text-center pa-5"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{size:"64",color:"grey lighten-1"},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("mdi-lan")]))),_:1}),t[8]||(t[8]=(0,a.Lk)("h3",{class:"text-h5 mt-4"},"No networks found",-1)),(0,a.Lk)("p",n,(0,r.v_)(d.filters.name?"Try adjusting your filters":"Create your first network to get started"),1),(0,a.bF)(b,{color:"primary",class:"mt-4",to:"/networks/create"},{default:(0,a.k6)((()=>[(0,a.bF)(m,{left:""},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("mdi-plus")]))),_:1}),t[7]||(t[7]=(0,a.eW)(" New Network "))])),_:1})])),_:1})):((0,a.uX)(),(0,a.Wv)(h,{key:3},{default:(0,a.k6)((()=>[(0,a.bF)(y,{headers:d.headers,items:d.networks,"items-per-page":10,"footer-props":{"items-per-page-options":[5,10,15,20]},class:"elevation-1"},{"item.name":(0,a.k6)((({item:e})=>[(0,a.bF)(_,{to:`/networks/${e.id}`,class:"text-decoration-none"},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.name),1)])),_:2},1032,["to"])])),"item.scope":(0,a.k6)((({item:e})=>[(0,a.bF)(v,{color:c.getScopeColor(e.scope),"text-color":"white",small:""},{default:(0,a.k6)((()=>[(0,a.eW)((0,r.v_)(e.scope),1)])),_:2},1032,["color"])])),"item.created_at":(0,a.k6)((({item:e})=>[(0,a.eW)((0,r.v_)(c.formatDate(e.created_at)),1)])),"item.actions":(0,a.k6)((({item:e})=>[(0,a.bF)(b,{icon:"",small:"",onClick:t=>c.showDeleteDialog(e),title:"Delete",disabled:"bridge"===e.name||"host"===e.name||"none"===e.name},{default:(0,a.k6)((()=>[(0,a.bF)(m,{small:""},{default:(0,a.k6)((()=>t[9]||(t[9]=[(0,a.eW)("mdi-delete")]))),_:1})])),_:2},1032,["onClick","disabled"])])),_:1},8,["headers","items"])])),_:1})),(0,a.bF)(D,{modelValue:d.deleteDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>d.deleteDialog=e),"max-width":"500"},{default:(0,a.k6)((()=>[(0,a.bF)(h,null,{default:(0,a.k6)((()=>[(0,a.bF)(F,{class:"headline"},{default:(0,a.k6)((()=>t[10]||(t[10]=[(0,a.eW)("Delete Network")]))),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)((()=>[t[11]||(t[11]=(0,a.eW)(" Are you sure you want to delete the network ")),(0,a.Lk)("strong",null,(0,r.v_)(d.selectedNetwork?.name),1),t[12]||(t[12]=(0,a.eW)("? This action cannot be undone. "))])),_:1}),(0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.bF)(N),(0,a.bF)(b,{color:"grey darken-1",text:"",onClick:t[1]||(t[1]=e=>d.deleteDialog=!1)},{default:(0,a.k6)((()=>t[13]||(t[13]=[(0,a.eW)(" Cancel ")]))),_:1}),(0,a.bF)(b,{color:"red darken-1",text:"",onClick:c.deleteNetwork},{default:(0,a.k6)((()=>t[14]||(t[14]=[(0,a.eW)(" Delete ")]))),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var d=l(2977),c={name:"NetworkList",data(){return{loading:!0,error:null,networks:[],filters:{name:""},headers:[{text:"Name",value:"name",sortable:!0},{text:"Driver",value:"driver",sortable:!0},{text:"Subnet",value:"subnet",sortable:!1},{text:"Scope",value:"scope",sortable:!0},{text:"Created",value:"created_at",sortable:!0},{text:"Actions",value:"actions",sortable:!1,align:"center"}],deleteDialog:!1,selectedNetwork:null}},computed:{...(0,d.L8)({isAuthenticated:"auth/isAuthenticated",token:"auth/token"})},created(){this.fetchNetworks()},methods:{async fetchNetworks(){this.loading=!0,this.error=null;try{setTimeout((()=>{this.networks=[{id:"n1",name:"bridge",driver:"bridge",subnet:"172.17.0.0/16",scope:"local",created_at:"2025-03-15T10:00:00Z"},{id:"n2",name:"host",driver:"host",subnet:"N/A",scope:"local",created_at:"2025-03-15T10:00:00Z"},{id:"n3",name:"none",driver:"null",subnet:"N/A",scope:"local",created_at:"2025-03-15T10:00:00Z"},{id:"n4",name:"app_network",driver:"bridge",subnet:"172.18.0.0/16",scope:"local",created_at:"2025-03-16T09:00:00Z"},{id:"n5",name:"overlay_network",driver:"overlay",subnet:"10.0.0.0/24",scope:"swarm",created_at:"2025-03-16T08:00:00Z"}],this.loading=!1}),1e3)}catch(e){this.error="Failed to load networks. Please try again.",this.loading=!1}},applyFilters(){this.fetchNetworks()},formatDate(e){const t=new Date(e);return t.toLocaleString()},getScopeColor(e){switch(e){case"swarm":return"purple";case"global":return"blue";case"local":default:return"green"}},showDeleteDialog(e){this.selectedNetwork=e,this.deleteDialog=!0},async deleteNetwork(){if(this.selectedNetwork)try{this.networks=this.networks.filter((e=>e.id!==this.selectedNetwork.id)),this.deleteDialog=!1,this.selectedNetwork=null}catch(e){this.error=`Failed to delete network ${this.selectedNetwork.name}`,this.deleteDialog=!1}}}},u=l(6262);const k=(0,u.A)(c,[["render",i],["__scopeId","data-v-27a9bd54"]]);var m=k}}]);